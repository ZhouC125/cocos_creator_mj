{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\game\\room/assets\\scripts\\hall\\game\\room\\RoomTypeList.js"],"names":["HallResources","require","RoomTypeList","cc","Class","extends","Component","properties","roomType1","default","type","Button","roomType2","roomType3","roomType1Score","Label","roomType2Score","roomType3Score","roomType1Gold","roomType2Gold","roomType3Gold","roomType1PlayerCount","roomType2PlayerCount","roomType3PlayerCount","onLoad","content","node","getComponent","ScrollView","onClickButton","pSender","index","getInstance","playButtonEffect","gameInfo","gameList","pRoomList","enterGameRoomBeanByStaionName","szStationName","recordPlayerLogToServer","recordList","enter_room","showRoomList","gameLibSink","gameLib","getGameLib","sortFunction","stStation1","stStation2","dwRuleID","sort","active","length","string","getStationOnlineCount","dwStationID"],"mappings":"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","file":"RoomTypeList.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\game\\room","sourcesContent":["var HallResources = require(\"HallResources\")\r\nvar RoomTypeList = cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        roomType1:{\r\n            default:null,\r\n            type:cc.Button,\r\n        },\r\n        roomType2:{\r\n            default:null,\r\n            type:cc.Button,\r\n        },\r\n        roomType3:{\r\n            default:null,\r\n            type:cc.Button,\r\n        },\r\n        roomType1Score:{\r\n            default:null,\r\n            type:cc.Label,\r\n        },\r\n        roomType2Score:{\r\n            default:null,\r\n            type:cc.Label,\r\n        },\r\n        roomType3Score:{\r\n            default:null,\r\n            type:cc.Label,\r\n        },\r\n        roomType1Gold:{\r\n            default:null,\r\n            type:cc.Label,\r\n        },\r\n        roomType2Gold:{\r\n            default:null,\r\n            type:cc.Label,\r\n        },\r\n        roomType3Gold:{\r\n            default:null,\r\n            type:cc.Label,\r\n        },\r\n        roomType1PlayerCount:{\r\n            default:null,\r\n            type:cc.Label,\r\n        },\r\n        roomType2PlayerCount:{\r\n            default:null,\r\n            type:cc.Label,\r\n        },\r\n        roomType3PlayerCount:{\r\n            default:null,\r\n            type:cc.Label,\r\n        },\r\n    },\r\n\r\n    onLoad:function() {\r\n        this.content = this.node.getComponent(cc.ScrollView).content;\r\n    },\r\n\r\n\r\n    onClickButton:function(pSender,index)\r\n    {\r\n        require('HallResources').getInstance().playButtonEffect();\r\n        var gameInfo = this.gameList[index];\r\n        var pRoomList =  require('HallResources').getInstance().enterGameRoomBeanByStaionName(gameInfo.szStationName);\r\n\r\n        //记录日志\r\n        HallResources.recordPlayerLogToServer(HallResources.recordList.enter_room);\r\n    },\r\n\r\n    showRoomList:function(gameList) {\r\n        var gameLibSink  =  require('GameLibSink').getInstance();\r\n        var gameLib =  gameLibSink.getGameLib();\r\n\r\n        this.gameList = gameList;\r\n        var sortFunction = function (stStation1, stStation2){\r\n            return stStation1.dwRuleID - stStation2.dwRuleID;\r\n        }\r\n        this.gameList.sort(sortFunction)\r\n        // this.content.removeAllChildren();\r\n        // var nButtonX = 0;\r\n        // var nButtonY = 0;\r\n        // var offsetX = 350;\r\n        // var totalWidth = 0;\r\n        // var nListSize = gameList.length;\r\n        \r\n        // for(var i=0;i<gameList.length;i++)\r\n        // {\r\n            // var buttonNode = new cc.Node('buttonNode');\r\n            // var ccBtutton = buttonNode.addComponent(cc.CCButton);\r\n            // var gameInfo = gameList[i];\r\n            // ccBtutton.setCCButton('texture/hallRes/roomInfo/roomType'+(i+1),null,this.onClickButton.bind(this));\r\n            // ccBtutton.setObjectData(gameInfo);\r\n            // buttonNode.parent = this.content;\r\n            // buttonNode.x=nButtonX+ i * offsetX;\r\n            // buttonNode.y=nButtonY;\r\n\r\n        // } \r\n        // totalWidth = offsetX * nListSize;\r\n        // this.content.width = totalWidth;\r\n        this.roomType3.node.active = false;\r\n        this.roomType2.node.active = false;\r\n        this.roomType1.node.active = false;\r\n        if (gameList.length > 2)\r\n        {\r\n            this.roomType3.node.active = true;\r\n            // this.roomType3Gold.string = gameList[2].dwMinGold;\r\n            this.roomType3PlayerCount.string =  gameLib.getStationOnlineCount(gameList[2].dwStationID);\r\n        }\r\n        if (gameList.length > 1)\r\n        {\r\n            this.roomType2.node.active = true;\r\n            // this.roomType2Gold.string = gameList[1].dwMinGold;\r\n            this.roomType2PlayerCount.string =  gameLib.getStationOnlineCount(gameList[1].dwStationID);\r\n        }\r\n        if (gameList.length > 0)\r\n        {\r\n            this.roomType1.node.active = true;\r\n            // this.roomType1Gold.string = gameList[0].dwMinGold;\r\n            this.roomType1PlayerCount.string =  gameLib.getStationOnlineCount(gameList[0].dwStationID);\r\n        }\r\n    },\r\n});\r\n"]}