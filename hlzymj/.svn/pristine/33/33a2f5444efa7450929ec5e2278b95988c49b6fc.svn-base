{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\game/assets\\scripts\\hall\\game\\Tools.js"],"names":["Tools","extends","cc","Component","isEmptyObject","obj","log","key","cutString","str","maxWidth","fontSize","parent","splitStr","split","node","Node","addChild","label","addComponent","Label","string","lastStrWidth","width","i","isOverMaxWidth","countLength","resultStr","length","destroy","getFormatNumber","preNum","result","newstr","reverse","join","substring","Class","module","exports"],"mappings":";;;;;;;;AACA;AACA,IAAIA,QAAQ;AACRC,aAASC,GAAGC;AADJ,CAAZ;;AAIA;;;;;AAKAH,MAAMI,aAAN,GAAsB,UAASC,GAAT,EAAa;;AAE/B,QAAG,QAAOA,GAAP,yCAAOA,GAAP,MAAe,QAAlB,EAA2B;AACvBH,WAAGI,GAAH,CAAO,uBAAP;AACA,eAAO,IAAP;AACH;;AAED,SAAI,IAAIC,GAAR,IAAeF,GAAf,EAAmB;AACf,eAAO,KAAP;AACH;;AAED,WAAO,IAAP;AACH,CAZD;;AAcA;;;;;;AAMAL,MAAMQ,SAAN,GAAkB,UAASC,GAAT,EAAcC,QAAd,EAAwBC,QAAxB,EAAkCC,MAAlC,EAAyC;AACvD,QAAIC,WAAWJ,IAAIK,KAAJ,CAAU,EAAV,CAAf;AACA,QAAIC,OAAO,IAAIb,GAAGc,IAAP,EAAX;AACAJ,WAAOK,QAAP,CAAgBF,IAAhB;;AAEA,QAAIG,QAAQH,KAAKI,YAAL,CAAkBjB,GAAGkB,KAArB,CAAZ;AACAF,UAAMP,QAAN,GAAiBA,QAAjB;AACAO,UAAMG,MAAN,GAAe,KAAf;AACA,QAAIC,eAAeP,KAAKQ,KAAxB,CARuD,CAQlB;AACrC,QAAIC,IAAI,CAAR;AACA,QAAIC,iBAAiB,KAArB,CAVuD,CAUlB;AACrC,QAAIC,cAAc,CAAlB;AACA,QAAIC,YAAY,EAAhB;AACA,WAAMH,IAAIX,SAASe,MAAb,IAAuB,CAACH,cAA9B,EAA6C;AACzCP,cAAMG,MAAN,GAAeR,SAASW,CAAT,CAAf;AACA,YAAGF,eAAeI,WAAf,GAA6BX,KAAKQ,KAAlC,GAA0Cb,QAA7C,EAAsD;AAClDgB,2BAAeX,KAAKQ,KAApB;AACAI,yBAAad,SAASW,CAAT,CAAb;AACH,SAHD,MAII;AACAC,6BAAiB,IAAjB;AACH;AACDD,aAAK,CAAL;AACH;AACD,QAAGC,cAAH,EAAkB;AACdE,qBAAa,KAAb;AACH;;AAEDZ,SAAKc,OAAL;AACA,WAAOF,SAAP;AACH,CAlDD,EAoDA3B,MAAM8B,eAAN,GAAwB,UAASC,MAAT,EAAgB;AACpC,QAAIC,SAAS,EAAb;;AAEA,QAAID,SAAS,KAAGA,MAAhB;;AAEA,QAAIE,SAASF,OAAOjB,KAAP,CAAa,EAAb,EAAiBoB,OAAjB,GAA2BC,IAA3B,CAAgC,EAAhC,CAAb;;AAEA,WAAMF,OAAOL,MAAP,GAAgB,CAAtB,EAAwB;;AAEpBI,kBAAUC,OAAOG,SAAP,CAAiB,CAAjB,EAAmB,CAAnB,IAAwB,GAAlC;;AAEAH,iBAASA,OAAOG,SAAP,CAAiB,CAAjB,CAAT;AACH;;AAEDJ,cAAUC,MAAV;;AAEAD,aAASA,OAAOlB,KAAP,CAAa,EAAb,EAAiBoB,OAAjB,GAA2BC,IAA3B,CAAgC,EAAhC,CAAT;AACA,WAAOH,MAAP;AACH,CAtED;;AAyEA9B,GAAGmC,KAAH,CAASrC,KAAT;AACAsC,OAAOC,OAAP,GAAiBvC,KAAjB","file":"Tools.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\game","sourcesContent":["\r\n//工具类\r\nvar Tools = {\r\n    extends: cc.Component,\r\n};\r\n\r\n/* \r\n* 判断一个对象是否是一个空的对象\r\n* 例如 var a = {}  a就是一个空对象   var b = { key: 5,} 此处b就不是空对象\r\n* 返回值为bool类型\r\n*/\r\nTools.isEmptyObject = function(obj){\r\n\r\n    if(typeof(obj) != \"object\"){\r\n        cc.log(\"obj is not object !!!\");\r\n        return true;\r\n    }\r\n        \r\n    for(var key in obj){\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n},\r\n\r\n/*\r\n * 切割字符串  \r\n * 从最开始位置获取相应长度的字符串 多余的部分用...代替\r\n * 如： 可测试的名字是叫做测试  这个字符串切割为：可测试的...\r\n * 返回值类型为string类型\r\n */\r\nTools.cutString = function(str, maxWidth, fontSize, parent){\r\n    var splitStr = str.split(\"\")\r\n    var node = new cc.Node();\r\n    parent.addChild(node)\r\n\r\n    var label = node.addComponent(cc.Label);\r\n    label.fontSize = fontSize;\r\n    label.string = \"...\";\r\n    var lastStrWidth = node.width;       //最后三个...号的宽度\r\n    var i = 0;\r\n    var isOverMaxWidth = false;          //是否超过了最大超度\r\n    var countLength = 0;\r\n    var resultStr = \"\";\r\n    while(i < splitStr.length && !isOverMaxWidth){\r\n        label.string = splitStr[i];\r\n        if(lastStrWidth + countLength + node.width < maxWidth){\r\n            countLength += node.width\r\n            resultStr += splitStr[i]; \r\n        }\r\n        else{\r\n            isOverMaxWidth = true;\r\n        }\r\n        i += 1;\r\n    }\r\n    if(isOverMaxWidth){\r\n        resultStr += \"...\" \r\n    }\r\n\r\n    node.destroy();\r\n    return resultStr;\r\n},\r\n\r\nTools.getFormatNumber = function(preNum){ \r\n    var result = \"\";\r\n\r\n    var preNum = \"\"+preNum;\r\n\r\n    var newstr = preNum.split(\"\").reverse().join(\"\");\r\n    \r\n    while(newstr.length > 3){\r\n\r\n        result += newstr.substring(0,3) + \"，\";\r\n\r\n        newstr = newstr.substring(3);\r\n    }\r\n    \r\n    result += newstr;\r\n\r\n    result = result.split(\"\").reverse().join(\"\");\r\n    return result;\r\n}\r\n\r\n\r\ncc.Class(Tools);\r\nmodule.exports = Tools\r\n"]}