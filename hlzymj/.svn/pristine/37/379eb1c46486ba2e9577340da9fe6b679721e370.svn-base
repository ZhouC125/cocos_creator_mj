{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\game\\gameOver/assets\\scripts\\hall\\game\\gameOver\\XueLiuHuTypeItem.js"],"names":["GameDefs","require","cc","Class","extends","Component","properties","huName","default","type","Label","hformDirection","beishu","huScore","onLoad","getDirectionName","a","b","pos","showWinDir","initData","stSinleScore","myChair","string","cbFan","nScore","cbWinChair","cbScoreType","cbFangpaoChair","huMsg","cbHuTypeCount","i","HUTYPE_STRING","cbHuType","SCORE_TYPE_STRING"],"mappings":";;;;;;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,gBAAQ;AACJC,qBAAS,IADL;AAEJC,kBAAMP,GAAGQ;AAFL,SADA;AAKRC,wBAAgB;AACZH,qBAAS,IADG;AAEZC,kBAAMP,GAAGQ;AAFG,SALR;AASRE,gBAAQ;AACJJ,qBAAS,IADL;AAEJC,kBAAMP,GAAGQ;AAFL,SATA;AAaRG,iBAAS;AACLL,qBAAS,IADJ;AAELC,kBAAMP,GAAGQ;AAFJ;AAbD,KAHP;AAqBLI,YAAQ,kBAAY,CACnB,CAtBI;;AAwBLC,oBAxBK,4BAwBYC,CAxBZ,EAwBcC,CAxBd,EAyBL;AACI,YAAIC,MAAMF,IAAIC,CAAd;AACA,YAAIE,aAAa,IAAjB;AACA,YAAKD,OAAO,CAAC,CAAT,IAAcA,OAAO,CAAzB,EACA;AACIC,yBAAa,IAAb;AACH,SAHD,MAGM,IAAKD,OAAO,CAAC,CAAT,IAAcA,OAAO,CAAzB,EACN;AACIC,yBAAa,IAAb;AACH,SAHK,MAGA,IAAKD,OAAO,CAAC,CAAT,IAAcA,OAAO,CAAzB,EACN;AACIC,yBAAa,IAAb;AACH;AACD,eAAOA,UAAP;AACH,KAvCI;;;AAyCLC,cAAS,kBAASC,YAAT,EAAsBC,OAAtB,EAA8B;AACnC,aAAKV,MAAL,CAAYW,MAAZ,GAAqBF,aAAaG,KAAb,GAAoB,GAAzC;AACA,aAAKX,OAAL,CAAaU,MAAb,GAAsBF,aAAaI,MAAnC;;AAGA;AACA,YAAIN,aAAa,EAAjB;AACA,YAAIG,WAAWD,aAAaK,UAA5B,EAAuC;AACnC,gBAAIL,aAAaM,WAAb,IAA4B,CAA5B,IAA+BN,aAAaM,WAAb,IAA4B,CAA3D,IAA8DN,aAAaM,WAAb,IAA4B,CAA9F,EAAgG;AAC5FR,6BAAa,IAAb;AACH,aAFD,MAEK;AACDA,6BAAa,KAAKJ,gBAAL,CAAsBM,aAAaO,cAAnC,EAAkDP,aAAaK,UAA/D,CAAb;AACH;AACJ;AACD,YAAIJ,WAAWD,aAAaO,cAA5B,EACA;AACIT,yBAAa,KAAKJ,gBAAL,CAAsBM,aAAaO,cAAnC,EAAkDP,aAAaK,UAA/D,CAAb;AACH;AACD,aAAKf,cAAL,CAAoBY,MAApB,GAA6BJ,UAA7B;;AAEA,YAAKU,QAAQ,EAAb;AACA,YAAGR,aAAaS,aAAb,GAA6B,CAAhC,EACA;AACID,oBAAQ,GAAR;AACA,iBAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIV,aAAaS,aAAjC,EAA+CC,GAA/C,EACA;AACI,oBAAIA,IAAI,CAAR,EACIF,QAAQA,QAAQ,GAAhB;AACJA,wBAAQA,QAAQ7B,SAASgC,aAAT,CAAuBX,aAAaY,QAApC,CAAhB;AACH;AACDJ,oBAAQA,QAAQ,GAAhB;AACH;;AAED,aAAKtB,MAAL,CAAYgB,MAAZ,GAAqBvB,SAASkC,iBAAT,CAA2Bb,aAAaM,WAAxC,IAAuDE,KAA5E;AACH;AA3EI,CAAT","file":"XueLiuHuTypeItem.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\game\\gameOver","sourcesContent":["var GameDefs = require(\"GameDefs\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        huName: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        hformDirection: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        beishu: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        huScore: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n    },\r\n    onLoad: function () {\r\n    },\r\n\r\n    getDirectionName(a,b)\r\n    {\r\n        var pos = a - b;\r\n        var showWinDir = \"对家\"\r\n        if ((pos == -2)||(pos == 2))\r\n        {\r\n            showWinDir = \"对家\";\r\n        }else if ((pos == -1)||(pos == 3))\r\n        {\r\n            showWinDir = \"下家\";\r\n        }else if ((pos == -3)||(pos == 1))\r\n        {\r\n            showWinDir = \"上家\";\r\n        }\r\n        return showWinDir\r\n    },\r\n\r\n    initData:function(stSinleScore,myChair){\r\n        this.beishu.string = stSinleScore.cbFan +\"倍\";\r\n        this.huScore.string = stSinleScore.nScore;\r\n        \r\n\r\n        //记录赢家是哪一家，或者放炮给我的是哪一家，自己自摸和暗杠续杠就不记录(因为赢的是三家的)\r\n        var showWinDir = \"\";\r\n        if (myChair == stSinleScore.cbWinChair){\r\n            if (stSinleScore.cbScoreType == 1||stSinleScore.cbScoreType == 2||stSinleScore.cbScoreType == 4){\r\n                showWinDir = \"自己\"\r\n            }else{\r\n                showWinDir = this.getDirectionName(stSinleScore.cbFangpaoChair,stSinleScore.cbWinChair);\r\n            }\r\n        }\r\n        if (myChair == stSinleScore.cbFangpaoChair)\r\n        {\r\n            showWinDir = this.getDirectionName(stSinleScore.cbFangpaoChair,stSinleScore.cbWinChair);\r\n        }\r\n        this.hformDirection.string = showWinDir;\r\n\r\n        var  huMsg = \"\";\r\n        if(stSinleScore.cbHuTypeCount > 0)\r\n        {\r\n            huMsg = \"(\";\r\n            for (var i = 0; i < stSinleScore.cbHuTypeCount;i++)\r\n            {\r\n                if (i > 0)\r\n                    huMsg = huMsg + \",\";\r\n                huMsg = huMsg + GameDefs.HUTYPE_STRING[stSinleScore.cbHuType];\r\n            }\r\n            huMsg = huMsg + \")\";\r\n        }\r\n\r\n        this.huName.string = GameDefs.SCORE_TYPE_STRING[stSinleScore.cbScoreType] + huMsg;\r\n    }\r\n});\r\n"]}