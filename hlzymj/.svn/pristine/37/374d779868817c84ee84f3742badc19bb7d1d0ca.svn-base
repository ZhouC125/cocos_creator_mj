{"version":3,"sources":["Loading.js"],"names":["Loading","cc","Class","extends","Component","properties","point1","default","type","Node","onLoad","initUI","effectNode","node","getChildByName","rotate","rotateBy","repeatForever","runAction","showActive","self","time","func","callFunc","getComponent","string","console","log","delayTime","sequence","module","exports"],"mappings":";;;;;;AAAA,IAAIA,UAAWC,GAAGC,KAAH,CAAS;AACpBC,aAASF,GAAGG,SADQ;;AAGpBC,gBAAY;AACRC,gBAAQ;AACJC,qBAAS,IADL;AAEJC,kBAAMP,GAAGQ;AAFL;AADA,KAHQ;AASpBC,YAAQ,kBAAY;AAChB,aAAKC,MAAL;AACH,KAXmB;;AAapBA,YAAO,kBAAU;AACb,YAAIC,aAAa,KAAKC,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,eAArD,CAAjB;AACA,YAAIC,SAASd,GAAGe,QAAH,CAAY,CAAZ,EAAe,GAAf,CAAb;AACA,YAAIC,gBAAgBhB,GAAGgB,aAAH,CAAiBF,MAAjB,CAApB;AACAH,mBAAWM,SAAX,CAAqBD,aAArB;AACH,KAlBmB;;AAoBpBE,gBAAY,sBAAY;AACpB,YAAIC,OAAO,IAAX;AACAA,aAAKC,IAAL,GAAY,CAAZ;AACA,YAAIC,OAAQrB,GAAGsB,QAAH,CAAY,YAAY;AAChCH,iBAAKC,IAAL,GAAYD,KAAKC,IAAL,GAAU,CAAtB;AACA,gBAAID,KAAKC,IAAL,GAAY,EAAhB,EAAmB;AACfD,qBAAKC,IAAL,GAAY,EAAZ;AACH;AACDD,iBAAKd,MAAL,CAAYkB,YAAZ,CAAyB,UAAzB,EAAqCC,MAArC,GAA8CL,KAAKC,IAAL,GAAU,GAAxD;AACAK,oBAAQC,GAAR;AACH,SAPW,CAAZ;AAQA,YAAIC,YAAY3B,GAAG2B,SAAH,CAAa,IAAb,CAAhB;AACA,YAAIC,WAAW5B,GAAGgB,aAAH,CAAiBhB,GAAG4B,QAAH,CAAYP,IAAZ,EAAkBM,SAAlB,CAAjB,CAAf;;AAEA,YAAIX,gBAAgBhB,GAAGgB,aAAH,CAAiBY,QAAjB,CAApB;AACA,aAAKvB,MAAL,CAAYY,SAAZ,CAAsBD,aAAtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACH;;AA3DmB,CAAT,CAAf;AA8DAa,OAAOC,OAAP,GAAiB/B,OAAjB","file":"Loading.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\hall","sourcesContent":["var Loading =  cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        point1: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n    },\r\n    onLoad: function () {\r\n        this.initUI();\r\n    },\r\n\r\n    initUI:function(){\r\n        var effectNode = this.node.getChildByName(\"shadow_sp\").getChildByName(\"guang_quan_sp\");\r\n        var rotate = cc.rotateBy(2, 360);\r\n        var repeatForever = cc.repeatForever(rotate);\r\n        effectNode.runAction(repeatForever);\r\n    },\r\n\r\n    showActive: function () {\r\n        var self = this;\r\n        self.time = 0;\r\n        var func =  cc.callFunc(function () {\r\n            self.time = self.time+1;\r\n            if (self.time > 99){\r\n                self.time = 99;\r\n            }\r\n            self.point1.getComponent(\"cc.Label\").string = self.time+\"%\";\r\n            console.log();\r\n        });\r\n        var delayTime = cc.delayTime(0.05);\r\n        var sequence = cc.repeatForever(cc.sequence(func, delayTime));\r\n\r\n        var repeatForever = cc.repeatForever(sequence);\r\n        this.point1.runAction(repeatForever);\r\n        \r\n        // this.point2.active = true; \r\n        // this.point3.active = true; \r\n        // var delayTime2 = cc.delayTime(1);\r\n        // var showPoint2 = cc.callFunc(function () {\r\n        //    this.point2.active = true; \r\n        // }, this);\r\n        // var delayTime = cc.delayTime(0.5);\r\n        // var hidePoint2 = cc.callFunc(function () {\r\n        //     this.point2.active = false; \r\n        //  }, this);\r\n        // var sequence1 = cc.repeatForever(cc.sequence(delayTime,showPoint2, delayTime2, hidePoint2));\r\n        // this.point2.runAction(sequence1);\r\n\r\n        // var showPoint3 = cc.callFunc(function () {\r\n        //     this.point3.active = true; \r\n        //  }, this);\r\n         \r\n        //  var hidePoint3 = cc.callFunc(function () {\r\n        //      this.point3.active = false; \r\n        //   }, this);\r\n        //  var sequence2 = cc.repeatForever(cc.sequence(delayTime2,showPoint3, delayTime, hidePoint3));\r\n        //  this.point3.runAction(sequence2);\r\n    },\r\n\r\n});\r\nmodule.exports = Loading;\r\n"]}