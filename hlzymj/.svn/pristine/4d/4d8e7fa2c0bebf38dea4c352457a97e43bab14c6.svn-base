{"version":3,"sources":["OtherRankLevelItem.js"],"names":["OtherRankLevelItem","cc","Class","extends","Component","properties","nextRankArrow","default","type","Sprite","rankName","cupIcon","needScore","Label","rewardLabel","rewardDiamond","onLoad","setArrowShow","bol","node","active","initData","data","self","string","diamond","formatGold","minScore","maxScore","loader","loadRes","cupId","SpriteFrame","err","spriteFrame","gold","remaindot","Math","abs","leftNum","retGold","floor","module","exports"],"mappings":"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","file":"OtherRankLevelItem.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\qualifying","sourcesContent":["\r\nvar OtherRankLevelItem = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        nextRankArrow: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        rankName: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        cupIcon: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        needScore: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        rewardLabel: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        rewardDiamond: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad: function () {\r\n    },\r\n\r\n    setArrowShow: function (bol) {\r\n        this.nextRankArrow.node.active = bol;\r\n    },\r\n\r\n    initData:function(data){\r\n        var self = this;\r\n        this.rewardLabel.string = \"x \" + data.diamond;\r\n        this.needScore.string = this.formatGold(data.minScore) + \"-\" + this.formatGold(data.maxScore) + \"分\";\r\n        cc.loader.loadRes(\"texture/hallRes/qualifyingCup/cup\"+data.cupId,cc.SpriteFrame,function(err,spriteFrame){\r\n            if(!err)\r\n            {   \r\n                self.cupIcon.spriteFrame = spriteFrame;\r\n            }\r\n        });\r\n        cc.loader.loadRes(\"texture/hallRes/qualifyingCup/rank_name_\"+data.cupId,cc.SpriteFrame,function(err,spriteFrame){\r\n            if(!err)\r\n            {   \r\n                self.rankName.spriteFrame = spriteFrame;\r\n            }\r\n        });\r\n        \r\n    },\r\n\r\n    //格式化数字\r\n    formatGold:function(gold, remaindot){\r\n        if(Math.abs(gold) < 100000){\r\n            return gold;\r\n        }\r\n    \r\n        if(Math.abs(gold) >= 100000 && Math.abs(gold) < 100000000){\r\n            if(remaindot){\r\n                var leftNum = gold % 10000;\r\n                if(leftNum == 0){\r\n                    var retGold = Math.floor(gold / 10000) + \"万\";\r\n                    return retGold;\r\n                }\r\n                else{\r\n                    gold = gold / 10000\r\n                    var retGold = Math.floor(gold*10)/10 + \"万\";\r\n                    return retGold;\r\n                }\r\n            }\r\n            else{\r\n                gold = gold / 10000\r\n                var retGold = Math.floor(gold*10)/10 + \"万\";\r\n                return retGold;\r\n            }\r\n        }\r\n        else if(Math.abs(gold) >= 100000000 && Math.abs(gold) <= 2000000000){\r\n            if(remaindot){\r\n                var leftNum = gold % 100000000;\r\n                if(leftNum == 0){\r\n                    var retGold = Math.floor(gold / 100000000) + \"亿\";\r\n                    return retGold;\r\n                }\r\n                else{\r\n                    gold = gold / 100000000\r\n                    var retGold = Math.floor(gold*10)/10 + \"万\";\r\n                    return retGold;\r\n                }\r\n            }\r\n            else{\r\n                gold = gold / 100000000\r\n                var retGold = Math.floor(gold*10)/10 + \"万\";\r\n                return retGold;\r\n            }\r\n        }\r\n    \r\n        if(Math.abs(gold) <= 100000000000){\r\n            var retGold = Math.floor(gold / 100000000) + \"亿\";\r\n        }\r\n    \r\n        if(remaindot){\r\n            return \"无限\";\r\n        }\r\n    },\r\n});\r\n\r\nmodule.exports = OtherRankLevelItem;"]}