{"version":3,"sources":["commonTipsLayer.js"],"names":["commonTipsLayer","cc","Class","extends","Component","properties","bg","default","type","Node","titleIcon","Sprite","tipsText","Label","showGameLoad","coinIcon","coinText","commonTipsBtn1","Button","commonTipsBtn2","commonTipsBtn3","otherNode","otherText1","otherText2","otherText3","arrowSp","womenSp","cloudSp","cloudLabel","onLoad","node","on","EventType","TOUCH_START","onTouch","btnCallback1","btnCallback2","btnCallback3","event","poisition","touch","getLocation","locationInNode","convertToNodeSpace","s","getContentSize","rect","width","height","rectContainsPoint","active","start","button1Func","button2Func","button3Func","clickCloseBtn","require","getInstance","playCloseEffect","showGameLoadTips","initData","data","self","string","msg","showIconLabel","loader","loadRes","SpriteFrame","err","spriteFrame","showIcon","buttonIcon1","getComponent","buttonIcon2","buttonIcon3","movePos","x","womenThink","module","exports"],"mappings":"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","file":"commonTipsLayer.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\activity\\commonTips","sourcesContent":["//使用方法参考HallPlatformInfo.onClickCollectBtn\r\nvar commonTipsLayer = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        bg: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        titleIcon: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        \r\n        tipsText: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n\r\n        showGameLoad: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n\r\n        coinIcon: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n\r\n        coinText: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n\r\n        commonTipsBtn1: {\r\n            default: null,\r\n            type: cc.Button,\r\n        },\r\n\r\n        commonTipsBtn2: {\r\n            default: null,\r\n            type: cc.Button,\r\n        },\r\n\r\n        commonTipsBtn3: {\r\n            default: null,\r\n            type: cc.Button,\r\n        },\r\n\r\n        otherNode: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        otherText1: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n\r\n        otherText2: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n\r\n        otherText3: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n\r\n        arrowSp: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n\r\n        womenSp: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n\r\n        cloudSp: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n\r\n        cloudLabel: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad: function () {\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouch, this);\r\n        this.commonTipsBtn1.node.on('click', this.btnCallback1, this);\r\n        this.commonTipsBtn2.node.on('click', this.btnCallback2, this);\r\n        this.commonTipsBtn3.node.on('click', this.btnCallback3, this);\r\n    },\r\n\r\n    onTouch: function (event) {\r\n        var poisition = event.touch.getLocation();\r\n        var locationInNode = this.bg.convertToNodeSpace(poisition);\r\n        var s = this.bg.getContentSize();\r\n        var rect = cc.rect(0, 0, s.width, s.height);\r\n        if (cc.rectContainsPoint(rect, locationInNode)) {\r\n            // this.node.active = true;\r\n        }\r\n        else {\r\n            this.node.active = false;\r\n        }\r\n    },\r\n\r\n    start: function () {\r\n\r\n    },\r\n\r\n    btnCallback1: function () {\r\n        this.button1Func();\r\n    },\r\n\r\n    btnCallback2: function () {\r\n        this.button2Func();\r\n    },\r\n\r\n    btnCallback3: function () {\r\n        this.button3Func();\r\n    },\r\n\r\n    clickCloseBtn: function () {\r\n        require('HallResources').getInstance().playCloseEffect();\r\n        this.node.active = false;\r\n    },\r\n    \r\n    showGameLoadTips: function () {\r\n        this.showGameLoad.node.active = true;\r\n        this.arrowSp.node.active = true;\r\n        \r\n    },\r\n\r\n    initData: function (data) {\r\n        var self = this;\r\n        self.tipsText.string = data.msg;\r\n        if (data.showIconLabel){\r\n            self.coinText.string = data.showIconLabel;\r\n        }else{\r\n            self.coinText.string = \"\";\r\n        }\r\n        \r\n        cc.loader.loadRes(data.titleIcon,cc.SpriteFrame,function(err,spriteFrame){\r\n            if(!err)\r\n            {   \r\n                self.titleIcon.spriteFrame = spriteFrame;\r\n            }\r\n        });\r\n\r\n        //判断是否显示金币图标\r\n        if (data.showIcon){\r\n            cc.loader.loadRes(data.showIcon,cc.SpriteFrame,function(err,spriteFrame){\r\n                if(!err)\r\n                {   \r\n                    self.coinIcon.spriteFrame = spriteFrame;\r\n                }\r\n            });\r\n        }else\r\n        {\r\n            self.coinIcon.active = false;\r\n        }\r\n\r\n        //判断是否显示中央按钮\r\n        if (data.buttonIcon1){\r\n            cc.loader.loadRes(data.buttonIcon1,cc.SpriteFrame,function(err,spriteFrame){\r\n                if(!err)\r\n                {   \r\n                    self.commonTipsBtn1.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                }\r\n            });\r\n        }\r\n        else{\r\n            self.commonTipsBtn1.node.active = false;\r\n        }\r\n        //判断是否显示两侧按钮\r\n        if (data.buttonIcon2){\r\n            self.commonTipsBtn2.node.active = true;\r\n            cc.loader.loadRes(data.buttonIcon2,cc.SpriteFrame,function(err,spriteFrame){\r\n                if(!err)\r\n                {   \r\n                    self.commonTipsBtn2.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                }\r\n            });\r\n        }\r\n        if (data.buttonIcon3){\r\n            self.commonTipsBtn3.node.active = true;\r\n            cc.loader.loadRes(data.buttonIcon3,cc.SpriteFrame,function(err,spriteFrame){\r\n                if(!err)\r\n                {   \r\n                    self.commonTipsBtn3.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                }\r\n            });\r\n        }\r\n        //判断是否显示分享次数的文本\r\n        if (data.otherText1){\r\n            self.otherText1.string = data.otherText1;\r\n            if (data.movePos){\r\n                self.otherText1.node.x = self.otherText1.node.x + data.movePos;\r\n            }\r\n        }\r\n\r\n        if (data.otherText2){\r\n            self.otherNode.active = true;\r\n            self.otherText2.string = data.otherText2;\r\n            if (data.movePos){\r\n                self.otherText2.node.x = self.otherText2.node.x + data.movePos;\r\n            }\r\n        }\r\n        if (data.otherText3){\r\n            self.otherText3.string = data.otherText3;\r\n            if (data.movePos){\r\n                self.otherText3.node.x = self.otherText3.node.x + data.movePos;\r\n            }\r\n        }\r\n        //设置几个按钮的回调函数\r\n        if (data.button1Func)\r\n        {\r\n            self.button1Func = data.button1Func;\r\n        }\r\n        if (data.button2Func)\r\n        {\r\n            self.button2Func = data.button2Func;\r\n        }\r\n        if (data.button3Func)\r\n        {\r\n            self.button3Func = data.button3Func;\r\n        }\r\n\r\n        //判断是否显示女人和云，设置云上面的内容\r\n        if (data.womenThink)\r\n        {\r\n            self.womenSp.node.active = true;\r\n            self.cloudSp.node.active = true;\r\n            self.cloudLabel.string = data.womenThink;\r\n            self.tipsText.node.active = false;\r\n        }\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n\r\nmodule.exports = commonTipsLayer;"]}