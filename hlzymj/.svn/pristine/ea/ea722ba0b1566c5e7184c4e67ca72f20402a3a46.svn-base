{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\activity\\getReward/assets\\scripts\\hall\\activity\\getReward\\getRewardLayer.js"],"names":["getRewardLayer","cc","Class","extends","Component","properties","getRewardIcon","default","type","Sprite","getRewardLabel","Label","onLoad","initUI","effectNode","node","getChildByName","rotate","rotateBy","repeatForever","runAction","initData","data","self","resPath","addCount","moneytype","wantamount","string","loader","loadRes","SpriteFrame","err","spriteFrame","start","clickGetRewardBtn","active","clickCloseBtn","require","getInstance","playCloseEffect","module","exports"],"mappings":";;;;;;AACA,IAAIA,iBAAiBC,GAAGC,KAAH,CAAS;AAC1BC,aAASF,GAAGG,SADc;;AAG1BC,gBAAY;AACRC,uBAAe;AACXC,qBAAS,IADE;AAEXC,kBAAMP,GAAGQ;AAFE,SADP;AAKRC,wBAAgB;AACZH,qBAAS,IADG;AAEZC,kBAAMP,GAAGU;AAFG;AALR,KAHc;;AAc1B;;AAEAC,YAAQ,kBAAY;AAChB,aAAKC,MAAL;AACH,KAlByB;;AAoB1BA,YAAO,kBAAU;AACb,YAAIC,aAAa,KAAKC,IAAL,CAAUC,cAAV,CAAyB,iBAAzB,EAA4CA,cAA5C,CAA2D,iBAA3D,CAAjB;AACA,YAAIC,SAAShB,GAAGiB,QAAH,CAAY,CAAZ,EAAe,GAAf,CAAb;AACA,YAAIC,gBAAgBlB,GAAGkB,aAAH,CAAiBF,MAAjB,CAApB;AACAH,mBAAWM,SAAX,CAAqBD,aAArB;AACH,KAzByB;;AA2B1BE,cAAS,kBAASC,IAAT,EACT;AACI,YAAIC,OAAO,IAAX;AACA,YAAIC,UAAU,EAAd;AACA,YAAIC,WAAW,EAAf;AACA,YAAIH,KAAKI,SAAL,IAAkB,CAAtB,EACA;AACIF,sBAAU,wCAAV;AACAC,uBAAW,QAAMH,KAAKK,UAAtB;AACH;AACD,aAAKjB,cAAL,CAAoBkB,MAApB,GAA6BH,QAA7B;AACAxB,WAAG4B,MAAH,CAAUC,OAAV,CAAkBN,OAAlB,EAA0BvB,GAAG8B,WAA7B,EAAyC,UAASC,GAAT,EAAaC,WAAb,EAAyB;AAC9D,gBAAG,CAACD,GAAJ,EACA;AACIT,qBAAKjB,aAAL,CAAmB2B,WAAnB,GAAiCA,WAAjC;AACH;AACJ,SALD;AAMH,KA5CyB;;AA8C1BC,WAAO,iBAAY,CAElB,CAhDyB;;AAkD1BC,uBAAkB,6BAAW;AACzBZ,aAAKR,IAAL,CAAUqB,MAAV,GAAmB,KAAnB;AACH,KApDyB;;AAsD1BC,mBAAe,yBAAY;AACvBC,gBAAQ,eAAR,EAAyBC,WAAzB,GAAuCC,eAAvC;AACA,aAAKzB,IAAL,CAAUqB,MAAV,GAAmB,KAAnB;AACH;;AAED;AA3D0B,CAAT,CAArB;;AA8DAK,OAAOC,OAAP,GAAiB1C,cAAjB","file":"getRewardLayer.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\activity\\getReward","sourcesContent":["\r\nvar getRewardLayer = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        getRewardIcon: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        getRewardLabel: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad: function () {\r\n        this.initUI();\r\n    },\r\n\r\n    initUI:function(){\r\n        var effectNode = this.node.getChildByName(\"reward_frame_sp\").getChildByName(\"reward_light_sp\");\r\n        var rotate = cc.rotateBy(4, 360);\r\n        var repeatForever = cc.repeatForever(rotate);\r\n        effectNode.runAction(repeatForever);\r\n    },\r\n\r\n    initData:function(data)\r\n    {\r\n        var self = this;\r\n        var resPath = \"\";\r\n        var addCount = \"\";\r\n        if (data.moneytype == 7)\r\n        {\r\n            resPath = \"texture/activityRes/dailyLogin/jinbi_3\";\r\n            addCount = \"金币+\"+data.wantamount;\r\n        }\r\n        this.getRewardLabel.string = addCount;\r\n        cc.loader.loadRes(resPath,cc.SpriteFrame,function(err,spriteFrame){\r\n            if(!err)\r\n            {   \r\n                self.getRewardIcon.spriteFrame = spriteFrame;\r\n            }\r\n        });\r\n    },\r\n\r\n    start: function () {\r\n\r\n    },\r\n\r\n    clickGetRewardBtn:function (){\r\n        self.node.active = false;\r\n    },\r\n\r\n    clickCloseBtn: function () {\r\n        require('HallResources').getInstance().playCloseEffect();\r\n        this.node.active = false;\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n\r\nmodule.exports = getRewardLayer;"]}