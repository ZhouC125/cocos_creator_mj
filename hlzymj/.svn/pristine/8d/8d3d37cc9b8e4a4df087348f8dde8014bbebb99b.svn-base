{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\hall/assets\\scripts\\hall\\HallPlatformInfo.js"],"names":["HallResources","require","HallPlatformInfo","extends","cc","Component","properties","m_gameListScrollView","default","type","ScrollView","hallNode","Node","gameRoomNode","userInfoLayer","mallLayer","setLayer","inviteFriendLayer","helpLayer","dailyLayer","getRewardLayer","roomList","rankListNode","Sprite","rankChildrenNode","moneyNode","quickSatrtGameBtn","Button","goldCount","Label","diamondCount","playerId","playerName","playerIcon","commonTipsPrefab","Prefab","huobaoGameBtnIcon","changwanGameBtnIcon","huobaoGameBtnLabel","changwanGameBtnLabel","collectBtn","dailyLoginRedPoint","collectionLoginRedPoint","loadingNode","commonTipsLabelNode","commonTipsLabel","commonTipsIcon","moreGameNode","shrinkRank","extendedRank","groupdRank","bgMusic","url","AudioClip","gameName","yjlyPlayerCount","cxzPlayerCount","shadowNode","adNode","qualifyingBtn","seasonNode","consecutiveVictoriesNode","consecutiveVictoriesRewardNode","consecutiveRedPoint","gameMatchLayer","canSeasonLevelRewardBtn","userIconBtn","dailyLoginBtn","inviteOtherBtn","moreBtn","rankNode","getFreeDiamondNode","moreGameListNode","hotGameEnName","cwGameEnName","onLoad","self","active","isIPhoneX","setPositionX","node","sys","isNative","isMobile","canvasFit","getComponent","Canvas","fitHeight","fitWidth","loader","loadRes","SpriteFrame","error","spriteframe","bgSp","getChildByName","spriteFrame","os","OS_IOS","setPositionY","awardAmount","totalAwardTimes","bankruptAwardAmount","curAwardTimes","bClickCollectionBtn","shareTicket","weixinUserInfo","WeixinManager","getInstance","userInfo","avatarUrl","imgurl","load","err","texture","publicUserInfo","getPublicUserInfo","string","formatGold","nGold","isWeChatPlatform","refreshPlayerDiamondCount","userDBID","nickName","getCollectInfo","onMoneyNotEnough","event","showNoMoneyTips","bolOpenView","collectLayer","instantiate","data","titleIcon","msg","womenThink","showIcon","showIconLabel","buttonIcon2","button2Func","clickCloseBtn","onClickMallBtn","buttonIcon3","button3Func","wx","shareAppMessage","title","imageUrl","rupShareImgUrl","success","res","console","log","getBankruptReward","fail","otherText1","otherText2","otherText3","parent","initData","setPosition","buttonIcon1","button1Func","getBankruptInfo","TSCommon","addEvent","onNoEnoughGold","onGoldOrDiamondChanged","changMoney","onGetMoreDeskBg","onClickInviteBtn","showLoadingFunc","showActive","onShowLoadingNode","clearLoadingFunc","onClearLoadingNode","clearDailyLoginRedPointFunc","onClearDailyLoginRedPoint","clearConsecutiveRedPointFunc","onClearConsecutiveRedPoint","clearCollectionRedPointFunc","refreshHallSeasonLevelUp","onSeasonLevelUp","onClearCollectionLoginRedPoint","onRefreshPlayerDiamondCount","onChangePlayerQualifyingScore","refreshPlayerQualifying","showMsg","length","showMessage","onShowFlyMessage","request","method","id","header","ret","imgUrl","showShareMenu","onShareAppMessage","shareImgUrl","updateShareMenu","withShareTicket","sendMsgToWXChildren","getDailyReward","getPlayerQualifyingData","updateConsecutiveVictoriesData","updateGetRewardData","openBgMusic","onPlayBgMusic","closeBgMusic","onCloseBgMusic","onChangeShadow","setShadowNodeVis","bgMusicOpen","parseInt","localStorage","getItem","refreshMoreGmaeList","createBanner","getPrivateRoomInfo","start","G","matchGameReady","onClickMatchGame","goldGameReady","onClickButton","callBackFunc","bolSuccess","removeLoading","jsonObject","JSON","parse","seasonStartTime","SeasonStartTime","seasonEndTime","SeasonEndTime","score","Score","divisionID","DivisionID","qualifyingData","table","setQualifyingData","nPlayerQualifyingScore","changeRank","rankData","getDivisionData","getDivisionGetInfo","isCanShowAd","platform","WECHAT_GAME","current_version","getSystemInfoSync","SDKVersion","compareVersion","gameList","getGameList","i","m_iId","HotGameID","s","m_sEn","LastPlayGameID","getGetHotAndLastPlayGame","onClickMoreGameListBtn","onSetPlayerCount","gameInfo","m_sServeIp","m_iPort","m_sWr","pRoomList1","getLianXiChangStation","pRoomList2","gameLibSink","gameLib","getGameLib","nPlayerCount1","nPlayerCount2","getStationOnlineCount","dwStationID","m_bgMusicAudioID","audioEngine","play","undefined","stop","onDestroy","removeEvent","action","fadeOut","action2","callFunc","sequence","runAction","fadeIn","RetCode","myBalance","nDiamond","dispatchEvent","myOpenId","openid","getPlayerDiamondCount","getInviteFriendData","activityData","startTime","StartTime","endTime","EndTime","awardOne","AwardOne","awardTwo","AwardTwo","awardThree","AwardThree","timeFindMonthAndDay","getWxInviteActivityInfo","friendData","img","initFriendData","getWxInviteAwardGetInfo","backMsg","goldData","func","TotalAwardTimes","AwardAmount","CurAwardTimes","isAward","IsAward","getLaunchOptionsSync","stringify","query","inviteOpenId","tbData","updateWxRankData","playerRankNum","RankNum","playerOpenID","OpenID","playerScore","kvDataList","Array","push","key","value","setUserCloudStorage","KVDataList","_updateSubDomainCanvas","getPlayerData","openConsecutiveVictoriesReward","winCount","openGetReward","onClickMoreGameBtn","playButtonEffect","Domain","WEIXIN_APPID","arr","previewImage","current","urls","onClickQuickStartButton","pRoomList","getStationList","size","server","getEnterBestRoom","chooseGameType","autoEnterGameRoom","szStationName","showLoading","onClickGameBtn","recordPlayerLogToServer","recordList","choose_method","director","preloadScene","showGameRoom","openAndChangeScaleAction","scaleTo","onClickUserIcon","totalCount","TotalCount","continueWinCount","ContinueWinCount","winRate","WinRate","getPlayerWinState","commonShareToGroup","shareCallBackFunc","groupShareImgUrl","shareTickets","commonShareTickets","getShareInfo","encryptedData","iv","iosShareAddArward","awardCount","getWxShareDiamondAwardGetAward","openIosPlatformShare","openIOSShareLayerFunc","totalTimes","curTimes","shareIosLayer","movePos","TotalTimes","CurTimes","getWxShareDiamondAwardGetInfo","openType","showDiamondNode","showGoldNode","itemData","bolTodayIsClick","sc","allData","item","days","Days","amount","Amount","hassign","HasSign","icon","Icon","getDailyCheckInfo","onClickDailyBtn","getCollectReward","moneytype","wantamount","showSeasonLayer","onClickConsecutiveVictoriesBtn","CanAward","IsGetAward","getContinuityWinGetInfo","onClickCollectBtn","showGameLoadTips","onClickSetBtn","tableInfo","tableBoardInfo","TableBoardNo","setHasGetDesk","IsGet","onClickHelpBtn","showRoomList","gameNameTexture","width","stopAllActions","moveTo","callback","backToHall","nExt","baseScore","setWaitID","RWaitId","startMatchPlayer","onClickExtendedBtn","postMessage","message","ticket","onClicShrinkBtn","onClickOpenGroupBtn","onClickCustomServiceBtn","openCustomerServiceConversation","showMessageCard","sendMessageImg","complete","tex","Texture2D","openDataContext","getOpenDataContext","sharedCanvas","canvas","game","height","initWithElement","handleLoadedTexture","gold","remaindot","Math","abs","leftNum","retGold","floor","v1","v2","split","len","max","num1","num2","browserType","str","day","month","firstPos","indexOf","nextPos","slice","substr","Class"],"mappings":"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","file":"HallPlatformInfo.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\hall","sourcesContent":["import {CGameLib} from \"../hall/gamelib/CGameLib\";\r\n// import { update } from \"../../../creator\";\r\nimport {WeixinManager} from \"../hall/weixin/WeixinManager\";\r\nimport {TSCommon} from \"TSCommon\";\r\nvar HallResources = require(\"HallResources\");\r\nimport {Domain} from \"../hall/Domain\";\r\n//大厅全局信息\r\nvar HallPlatformInfo = {\r\n    extends: cc.Component,\r\n    properties: {\r\n        m_gameListScrollView:{\r\n            default:null,\r\n            type:cc.ScrollView,\r\n        },\r\n        hallNode:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        gameRoomNode:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        userInfoLayer:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        mallLayer:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        setLayer:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        inviteFriendLayer:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        helpLayer:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        dailyLayer:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        getRewardLayer:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        roomList:{\r\n            default: null,\r\n            type: cc.ScrollView,\r\n        },\r\n        rankListNode:{\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        rankChildrenNode:{\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        moneyNode:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        quickSatrtGameBtn:{\r\n            default: null,\r\n            type: cc.Button,\r\n        },\r\n        goldCount:{\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        diamondCount:{\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        playerId:{\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        playerName:{\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        playerIcon:{\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        commonTipsPrefab:{\r\n            default: null,\r\n            type: cc.Prefab,\r\n        },\r\n        huobaoGameBtnIcon:{\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        changwanGameBtnIcon:{\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        huobaoGameBtnLabel:{\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        changwanGameBtnLabel:{\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n\r\n        collectBtn:{\r\n            default: null,\r\n            type: cc.Button,\r\n        },\r\n        dailyLoginRedPoint:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        collectionLoginRedPoint:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        loadingNode:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        commonTipsLabelNode:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        commonTipsLabel:{\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        commonTipsIcon:{\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        moreGameNode:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        shrinkRank: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        extendedRank: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        groupdRank: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        bgMusic: {\r\n            default: null,\r\n            url: cc.AudioClip,\r\n        },\r\n\r\n        gameName: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n\r\n        yjlyPlayerCount: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n\r\n        cxzPlayerCount: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n\r\n        shadowNode: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        adNode: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        qualifyingBtn: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        seasonNode: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        consecutiveVictoriesNode: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        consecutiveVictoriesRewardNode: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        consecutiveRedPoint:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        gameMatchLayer:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        canSeasonLevelRewardBtn:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        userIconBtn:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        dailyLoginBtn:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        inviteOtherBtn:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        moreBtn:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        rankNode:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        getFreeDiamondNode:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        moreGameListNode:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        hotGameEnName : \"\",\r\n        cwGameEnName : \"\",\r\n    },\r\n    \r\n    onLoad:function() {\r\n        \r\n        var self = this;\r\n        // require(\"aladinSDK\").init(Domain.WEIXIN_APPID,self.moreGameNode,self.adNode,null,null);\r\n\r\n        // 匹配倒计时\r\n        // this.time = 0;\r\n        // this.schedule(function() {  \r\n        //     self.time = self.time + 1;\r\n        //     var sec = (self.time%60);\r\n        //     var min = (self.time-sec)/60;\r\n        //     if (min == 0){\r\n        //         self.timeLabel.string = sec+\"秒\";\r\n        //     }\r\n        //     else{\r\n        //         self.timeLabel.string = min+\"分\"+sec+\"秒\";\r\n        //     }\r\n        // }, 1, 300, 0);\r\n\r\n        // var HallResources = require(\"HallResources\");\r\n\r\n        this.gameMatchLayer.active = false;\r\n\r\n        \r\n        if(require(\"HallUtils\").isIPhoneX())\r\n        {   \r\n            //调节界面图标坐标\r\n            self.userIconBtn.setPositionX(-350);\r\n            self.dailyLoginBtn.setPositionX(700);\r\n            self.inviteOtherBtn.setPositionX(700);\r\n            self.moreBtn.setPositionX(700);\r\n            self.rankNode.setPositionX(-60);\r\n            self.collectBtn.node.setPositionX(480);\r\n            this.getFreeDiamondNode.setPositionX(700);\r\n            if(!cc.sys.isNative && cc.sys.isMobile){\r\n                var canvasFit = this.node.getComponent(cc.Canvas);\r\n                canvasFit.fitHeight = true;\r\n                canvasFit.fitWidth = false;\r\n            }\r\n\r\n            cc.loader.loadRes(\"texture/hallRes/iphonex_bg\", cc.SpriteFrame,function (error, spriteframe)\r\n            {\r\n                var bgSp = self.node.getChildByName('hall_bg').getComponent(cc.Sprite);\r\n                if (!error) {\r\n                    bgSp.spriteFrame = spriteframe;\r\n                   \r\n                }\r\n            });\r\n        }\r\n\r\n        if(cc.sys.os == cc.sys. OS_IOS){\r\n            this.getFreeDiamondNode.active = true;\r\n            this.moreBtn.setPositionY(-144)\r\n        }\r\n        else{\r\n            this.moreBtn.setPositionY(-39)\r\n        }\r\n        self.awardAmount = 0;\r\n        self.totalAwardTimes = 0;\r\n        self.bankruptAwardAmount = 0;\r\n        self.curAwardTimes = 0;\r\n        self.bClickCollectionBtn = false;\r\n        self.shareTicket = \"\";\r\n        //拉取用户头像\r\n        var weixinUserInfo = WeixinManager.getInstance().userInfo;\r\n        if(weixinUserInfo && weixinUserInfo.avatarUrl){\r\n            var imgurl=weixinUserInfo.avatarUrl+\"?aaa=aa.jpg\";\r\n            cc.loader.load(imgurl, function(err, texture){\r\n                self.playerIcon.spriteFrame = new cc.SpriteFrame(texture);\r\n                // self.playerIcon.node.setScale(0.45);\r\n            \r\n            });\r\n        }\r\n        //刷新用户金币数据\r\n        var publicUserInfo = require(\"HallControl\").getInstance().getPublicUserInfo();\r\n        self.goldCount.string = this.formatGold(publicUserInfo.nGold,true);\r\n        if(self.isWeChatPlatform()){\r\n            this.refreshPlayerDiamondCount();\r\n        }\r\n\r\n        this.playerId.string = publicUserInfo.userDBID;\r\n        this.playerName.string = publicUserInfo.nickName;\r\n        //设置用户收藏按钮\r\n        self.getCollectInfo();\r\n\r\n        //破产事件监听\r\n        var onMoneyNotEnough = function (event) {\r\n            var showNoMoneyTips = function(bolOpenView){\r\n                //首先判断好有帮助功能是否还有次数,有就进好有帮助界面，没有就进提示金币不足界面\r\n                if (bolOpenView){\r\n                    var collectLayer = cc.instantiate(self.commonTipsPrefab);\r\n                    var data = [];\r\n                    data.titleIcon = \"texture/commonRes/frameTips/friendHelpTitle\";\r\n                    data.msg = \"不好了！破产了！快点请求好友接济！分享给任意好友，立即领取\"+self.bankruptAwardAmount+\"金币！\";\r\n                    data.womenThink = \"不好了，破产了！快点请求好友接济！\\n分享给任意好友，立即领取\" + self.bankruptAwardAmount +\"金币！\";\r\n                    data.showIcon = \"texture/commonRes/frameTips/jinbi\";\r\n                    data.showIconLabel = \"*\"+self.bankruptAwardAmount;\r\n                    data.buttonIcon2 = \"texture/commonRes/frameTips/mallBuyBtn\";\r\n                    data.button2Func = function(){\r\n                        collectLayer.getComponent(\"commonTipsLayer\").clickCloseBtn();\r\n                        self.onClickMallBtn();\r\n                    };\r\n                    data.buttonIcon3 = \"texture/commonRes/frameTips/quickShareBtn\";\r\n                    data.button3Func = function(){\r\n                        collectLayer.getComponent(\"commonTipsLayer\").clickCloseBtn();\r\n                        if(self.isWeChatPlatform()){\r\n                            \r\n                            //主动拉起分享接口\r\n                            // var HallResources = require(\"HallResources\");\r\n                            wx.shareAppMessage({\r\n                                title: \"不好了！我在晃晃麻将里裤衩都快输掉了，求接济啊！\",\r\n                                imageUrl: HallResources.rupShareImgUrl,\r\n                                success(res){\r\n                                    console.log(\"转发成功!!!\")\r\n                                    self.getBankruptReward();\r\n                                },\r\n                                fail(res){\r\n                                    console.log(\"转发失败!!!\")\r\n                                } \r\n                            })\r\n\r\n                        }\r\n                    };\r\n                    data.otherText1 = \"今日领取数：\";\r\n                    data.otherText2 = \"\"+(self.totalAwardTimes - self.curAwardTimes);\r\n                    data.otherText3 = \"/\"+self.totalAwardTimes;\r\n                    collectLayer.parent = self.node;\r\n                    collectLayer.getComponent(\"commonTipsLayer\").initData(data);   \r\n                    collectLayer.setPosition(0,0); \r\n                }else{\r\n                    var collectLayer = cc.instantiate(self.commonTipsPrefab);\r\n                    var data = [];\r\n                    data.titleIcon = \"texture/commonRes/frameTips/coinNoEnoughTitle\";\r\n                    data.msg = \"您的金币已不足以继续游戏，请前往商城购买。\";\r\n                    data.showIcon = \"texture/commonRes/frameTips/jinbi\";\r\n                    data.buttonIcon1 = \"texture/commonRes/frameTips/goToMallBtn\";\r\n                    data.button1Func = function(){\r\n                        collectLayer.getComponent(\"commonTipsLayer\").clickCloseBtn();\r\n                        self.onClickMallBtn();\r\n                    };\r\n                    collectLayer.parent = self.node;\r\n                    collectLayer.getComponent(\"commonTipsLayer\").initData(data);   \r\n                    collectLayer.setPosition(0,0); \r\n                }\r\n            };\r\n            self.getBankruptInfo(showNoMoneyTips);\r\n        }\r\n        this.onMoneyNotEnough = onMoneyNotEnough;\r\n        TSCommon.addEvent(HallResources.onNoEnoughGold, onMoneyNotEnough, this);\r\n        TSCommon.addEvent(HallResources.onGoldOrDiamondChanged, this.changMoney, this);    //金币改变\r\n        TSCommon.addEvent(HallResources.onGetMoreDeskBg,this.onClickInviteBtn,this);\r\n\r\n        var showLoadingFunc = function()\r\n        {\r\n            self.loadingNode.active = true;  \r\n            this.loadingNode.getComponent(\"Loading\").showActive();\r\n        };\r\n        this.showLoadingFunc = showLoadingFunc;\r\n        TSCommon.addEvent(HallResources.onShowLoadingNode, showLoadingFunc, this);\r\n\r\n        var clearLoadingFunc = function()\r\n        {\r\n            self.loadingNode.active = false;  \r\n        };\r\n        this.clearLoadingFunc = clearLoadingFunc;\r\n        TSCommon.addEvent(HallResources.onClearLoadingNode, clearLoadingFunc, this);\r\n\r\n        var clearDailyLoginRedPointFunc = function()\r\n        {\r\n            self.dailyLoginRedPoint.active = false;  \r\n        };\r\n        this.clearDailyLoginRedPointFunc = clearDailyLoginRedPointFunc;\r\n        TSCommon.addEvent(HallResources.onClearDailyLoginRedPoint, clearDailyLoginRedPointFunc, this);\r\n\r\n        var clearConsecutiveRedPointFunc = function()\r\n        {\r\n            self.consecutiveRedPoint.active = false;  \r\n        };\r\n        this.clearConsecutiveRedPointFunc = clearConsecutiveRedPointFunc;\r\n        TSCommon.addEvent(HallResources.onClearConsecutiveRedPoint, clearConsecutiveRedPointFunc, this);\r\n        \r\n        var clearCollectionRedPointFunc = function()\r\n        {\r\n            self.collectionLoginRedPoint.active = false;  \r\n        };\r\n        this.clearCollectionRedPointFunc = clearCollectionRedPointFunc;\r\n\r\n        var refreshHallSeasonLevelUp = function(event)\r\n        {\r\n            self.canSeasonLevelRewardBtn.active = event.data;  \r\n        };\r\n        this.refreshHallSeasonLevelUp = refreshHallSeasonLevelUp;\r\n        TSCommon.addEvent(HallResources.onSeasonLevelUp, refreshHallSeasonLevelUp, this);\r\n        TSCommon.addEvent(HallResources.onClearCollectionLoginRedPoint, clearCollectionRedPointFunc, this);\r\n        TSCommon.addEvent(HallResources.onRefreshPlayerDiamondCount, this.refreshPlayerDiamondCount, this);\r\n        TSCommon.addEvent(HallResources.onChangePlayerQualifyingScore, this.refreshPlayerQualifying, this);\r\n        var showMsg = function(msg)\r\n        {\r\n            if (msg.data.length > 1){\r\n                self.showMessage(msg.data[0],msg.data[1]);  \r\n            }\r\n            else\r\n            {\r\n                self.showMessage(msg.data[0]);  \r\n            }\r\n        };\r\n        this.showMsg = showMsg;\r\n        TSCommon.addEvent(HallResources.onShowFlyMessage, showMsg, this);\r\n\r\n        //分享的事件监听\r\n        if(self.isWeChatPlatform()){\r\n            //发个请求获得分享的资源\r\n            wx.request({\r\n                url: 'https://mprogram.boomegg.cn/sprogram/ads/c/ad/get',\r\n                method:'post',\r\n                data: {\r\n                id: '11111'// 本小程序id, 测试的时候用“11111”,正式上线请修改为本小程序的appid,并联系萌蛋的对接同学配置\r\n                },\r\n                header: {\r\n                    'content-type': 'application/x-www-form-urlencoded'\r\n                },\r\n                success: function (res) {\r\n                    if(res.data.ret==0){\r\n                        self.imgUrl = res.data.data.imgUrl;\r\n                        // canvas.addEventListener('touchstart', ((e) => {\r\n                        //     wx.previewImage({\r\n                        //     urls: [imgUrl]\r\n                        //     })\r\n                        // }).bind(this))\r\n                    }\r\n                }\r\n            });\r\n\r\n            // 开启右上角的分享\r\n            wx.showShareMenu();\r\n            //监听右上角的分享调用 \r\n            wx.onShareAppMessage(function(res){\r\n                return {\r\n                    title: \"牌都跟你码好了，快来打晃晃撒！\",\r\n                    imageUrl: HallResources.shareImgUrl,\r\n                    success(res){\r\n                        console.log(\"转发成功!!!\")\r\n                    },\r\n                    fail(res){\r\n                        console.log(\"转发失败!!!\")\r\n                    } \r\n                }\r\n            });\r\n            //开启群分享\r\n            wx.updateShareMenu({\r\n                withShareTicket: true\r\n            });\r\n\r\n        }\r\n        //刷新排行榜界面\r\n        this.sendMsgToWXChildren();\r\n        //每日登陆奖励提示\r\n        this.getDailyReward();\r\n        //获得并设置天梯数据\r\n        this.getPlayerQualifyingData();\r\n\r\n        //刷新连胜奖励数据和小红点\r\n        this.updateConsecutiveVictoriesData();\r\n        //同上\r\n        this.seasonNode.getComponent(\"SeasonLayer\").updateGetRewardData();\r\n\r\n        this.loadingNode.getComponent(\"Loading\").showActive();\r\n        TSCommon.addEvent(HallResources.openBgMusic, this.onPlayBgMusic, this);\r\n        TSCommon.addEvent(HallResources.closeBgMusic, this.onCloseBgMusic, this);\r\n        TSCommon.addEvent(HallResources.onChangeShadow,this.setShadowNodeVis,this);\r\n        //播放背景音乐\r\n        var bgMusicOpen = parseInt(cc.sys.localStorage.getItem(\"bgMusic\") || 0);\r\n        if (bgMusicOpen) {\r\n            this.onPlayBgMusic();\r\n        }\r\n        // this.onSetPlayerCount();\r\n        this.refreshMoreGmaeList();\r\n\r\n        //显示广告\r\n        this.createBanner();\r\n        require('HallWebRequest').getInstance().getPrivateRoomInfo();\r\n    },\r\n\r\n\r\n    start:function(){\r\n        if(G.matchGameReady){\r\n            this.onClickMatchGame();\r\n        }\r\n        else if(G.goldGameReady == 36){\r\n\r\n            //隐藏排行榜\r\n            this.rankListNode.node.active = false;\r\n            this.onClickButton(\"xueliu\");\r\n            \r\n        }\r\n        else if(G.goldGameReady == 44){\r\n\r\n            //隐藏排行榜\r\n            this.rankListNode.node.active = false;\r\n            this.onClickButton(\"xuezhan\");\r\n        }\r\n        else if(G.goldGameReady == 97){\r\n\r\n            //隐藏排行榜\r\n            this.rankListNode.node.active = false;\r\n            this.onClickButton(\"gdmj\");\r\n        }\r\n    },\r\n\r\n    \r\n    //刷新大厅的天梯排行内容\r\n    refreshPlayerQualifying:function(){\r\n        this.getPlayerQualifyingData();\r\n    },\r\n\r\n    //设置赛季天梯相关界面\r\n    getPlayerQualifyingData:function(){\r\n        var self = this;\r\n        //设置时间\r\n        var callBackFunc = function(bolSuccess,data){\r\n            if (bolSuccess) {\r\n                HallResources.getInstance().removeLoading();\r\n                var jsonObject = JSON.parse(data)\r\n                console.log(\"-----------------xcxGetUserBalance.aspx返回数据----------------------------\")\r\n                console.log(jsonObject)\r\n                var seasonStartTime = jsonObject.SeasonStartTime; //赛季开始时间\r\n                var seasonEndTime = jsonObject.SeasonEndTime; //赛季结束时间\r\n                var score = jsonObject.Score;//玩家积分\r\n                var divisionID = jsonObject.DivisionID;//玩家天梯等级\r\n                var qualifyingData = jsonObject.table;\r\n                HallResources.getInstance().setQualifyingData(qualifyingData);\r\n                require(\"HallControl\").getInstance().getPublicUserInfo().nPlayerQualifyingScore = score;\r\n                //刷新大厅的显示\r\n                self.qualifyingBtn.getComponent(\"HallQualifying\").changeRank(score);\r\n                //刷新赛季界面的显示\r\n                var rankData = HallResources.getInstance().getDivisionData();\r\n                self.seasonNode.getComponent(\"SeasonLayer\").initData(score,rankData,seasonStartTime,seasonEndTime,divisionID)\r\n            }\r\n        };\r\n        require('HallWebRequest').getInstance().getDivisionGetInfo(callBackFunc);\r\n    },\r\n\r\n    //-----------------------------------------------广告功能----------------------------------------------------\r\n    createBanner:function(){\r\n        //获得当前基础库版本号 \r\n        if(this.isCanShowAd()){\r\n        //   require(\"aladinSDK\").changeGDT(null,-300,null);\r\n        //   require(\"aladinSDK\").showBottomAd()\r\n        }\r\n    },\r\n\r\n    isCanShowAd: function(){\r\n        var ret = false;\r\n        if(cc.sys.platform === cc.sys.WECHAT_GAME){ \r\n            var current_version = wx.getSystemInfoSync().SDKVersion;\r\n            if (this.compareVersion(current_version, \"2.0.4\") === -1){\r\n                console.log('=====版本不够2.0.4，视频广告不能用')\r\n            }else{\r\n                ret = true;\r\n            }\r\n        }\r\n        return ret;\r\n    },\r\n\r\n    //---------------------------------------------------------------------------------------------------\r\n    //刷新界面UI，显示最热和常玩，顺便设置一下更多游戏的滑动列表\r\n    refreshMoreGmaeList:function(){ \r\n        \r\n        var self = this;\r\n        //设置时间\r\n        var callBackFunc = function(bolSuccess,data){\r\n            if (bolSuccess) {\r\n                HallResources.getInstance().removeLoading();\r\n                var jsonObject = JSON.parse(data)\r\n                console.log(\"-----------------GetHotAndLastPlayGame.aspx返回数据----------------------------\")\r\n                console.log(jsonObject.table)\r\n                var table = jsonObject.table[0]; \r\n                // 返回值：\r\n                //     HotGameID 火爆游戏ID\r\n                //     LastPlayGameID 常玩游戏I\r\n                // \"HotGameID\": 21,\"HotGameName\": \"一脚癞油\",\"LastPlayGameID\": 97,\"LastPlayGameName\": \"广东麻将\"\r\n                var gameList = require('HallControl').getInstance().getGameList();\r\n                for (var i= 0;i<gameList.length;i++)\r\n                {   \r\n                    //设置两个按钮内容\r\n                    if (gameList[i].m_iId == table.HotGameID) {\r\n                        var s = \"texture/hallRes/gameList/\"+gameList[i].m_sEn + \"_hb_title\"\r\n                        cc.loader.loadRes(\"texture/hallRes/gameList/\"+gameList[i].m_sEn + \"_hb_title\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                            if (!err) {\r\n                                self.huobaoGameBtnIcon.spriteFrame = spriteFrame;\r\n                            }\r\n                        })\r\n                        if (gameList[i].m_sEn == \"gdmj\"){\r\n                            self.huobaoGameBtnLabel.string = \"鸡平胡\";\r\n                        }else{\r\n                            self.huobaoGameBtnLabel.string = \"换三张\";\r\n                        }\r\n                        self.hotGameEnName = gameList[i].m_sEn;\r\n                    }\r\n                    if (gameList[i].m_iId == table.LastPlayGameID) {\r\n                        cc.loader.loadRes(\"texture/hallRes/gameList/\"+gameList[i].m_sEn + \"_cw_title\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                            if (!err) {\r\n                                self.changwanGameBtnIcon.spriteFrame = spriteFrame;\r\n                            }\r\n                        })\r\n                        if (gameList[i].m_sEn == \"gdmj\"){\r\n                            self.changwanGameBtnLabel.string = \"鸡平胡\";\r\n                        }else{\r\n                            self.changwanGameBtnLabel.string = \"换三张\";\r\n                        }\r\n                        self.cwGameEnName = gameList[i].m_sEn;\r\n                    }\r\n                }\r\n                self.moreGameListNode.getComponent(\"MoreGameListLayer\").initData(gameList,table.HotGameID,table.LastPlayGameID); \r\n            }\r\n        };\r\n        require('HallWebRequest').getInstance().getGetHotAndLastPlayGame(callBackFunc);\r\n\r\n    },\r\n    \r\n    onClickMoreGameListBtn:function(){\r\n        this.rankListNode.node.active = false;\r\n        this.moreGameListNode.active = true;\r\n        this.hallNode.active = false;\r\n    },\r\n\r\n    //刷新玩家人数功能\r\n    onSetPlayerCount:function(){\r\n        var gameList = require('HallControl').getInstance().getGameList();\r\n        var gameInfo = gameList[0];\r\n        require(\"GameEntrance\").start(gameInfo.m_iId,gameInfo.m_sServeIp,gameInfo.m_iPort,gameInfo.m_sWr);\r\n\r\n        var pRoomList1 =  HallResources.getInstance().getLianXiChangStation(\"yjly\");\r\n        var pRoomList2 =  HallResources.getInstance().getLianXiChangStation(\"cxz\");\r\n        var gameLibSink  =  require('GameLibSink').getInstance();\r\n        var gameLib =  gameLibSink.getGameLib();\r\n        var nPlayerCount1 = 0;\r\n        var nPlayerCount2 = 0;\r\n        for (var i = 0;i < pRoomList1.length;i++){\r\n            nPlayerCount1 = nPlayerCount1 + gameLib.getStationOnlineCount(pRoomList1[i].dwStationID);\r\n        }\r\n        for (var i = 0;i < pRoomList1.length;i++){\r\n            nPlayerCount2 = nPlayerCount2 +  gameLib.getStationOnlineCount(pRoomList2[i].dwStationID);\r\n        }\r\n        console.log(\"一脚癞油玩家人数：\"+nPlayerCount1);\r\n        console.log(\"撮虾子玩家人数：\"+nPlayerCount2);\r\n        this.yjlyPlayerCount.string = nPlayerCount1;\r\n        this.cxzPlayerCount.string = nPlayerCount2;\r\n    },\r\n\r\n    //------------------------大厅背景音乐--------------------\r\n    onPlayBgMusic: function () {\r\n        if (this.bgMusic) {\r\n            this.m_bgMusicAudioID = cc.audioEngine.play(this.bgMusic, true);\r\n        }\r\n    },\r\n    \r\n    onCloseBgMusic: function () {\r\n        if (this.m_bgMusicAudioID != undefined) {\r\n            cc.audioEngine.stop(this.m_bgMusicAudioID)\r\n        }\r\n    },\r\n    //------------------------大厅背景音乐--------------------\r\n\r\n    onDestroy:function(){\r\n        // var HallResources = require(\"HallResources\");\r\n        this.onCloseBgMusic();\r\n        TSCommon.removeEvent(HallResources.onChangeShadow ,this.setShadowNodeVis,this);\r\n        TSCommon.removeEvent(HallResources.onGoldOrDiamondChanged ,this.changMoney,this);\r\n        TSCommon.removeEvent(HallResources.onNoEnoughGold,this.onMoneyNotEnough,this);\r\n        TSCommon.removeEvent(HallResources.onShowLoadingNode,this.showLoadingFunc,this);\r\n        TSCommon.removeEvent(HallResources.onClearLoadingNode,this.clearLoadingFunc,this);\r\n        TSCommon.removeEvent(HallResources.onClearDailyLoginRedPoint,this.clearDailyLoginRedPointFunc,this);\r\n        TSCommon.removeEvent(HallResources.onClearConsecutiveRedPoint,this.clearConsecutiveRedPointFunc,this);\r\n        TSCommon.removeEvent(HallResources.onClearCollectionLoginRedPoint,this.clearCollectionRedPointFunc,this);\r\n        TSCommon.removeEvent(HallResources.onShowFlyMessage,this.showMsg,this);\r\n        TSCommon.removeEvent(HallResources.onGetMoreDeskBg,this.onClickInviteBtn,this);\r\n        TSCommon.removeEvent(HallResources.openBgMusic, this.onPlayBgMusic, this);\r\n        TSCommon.removeEvent(HallResources.closeBgMusic, this.onCloseBgMusic, this);\r\n        TSCommon.removeEvent(HallResources.onRefreshPlayerDiamondCount, this.refreshPlayerDiamondCount, this);\r\n        TSCommon.removeEvent(HallResources.onChangePlayerQualifyingScore, this.refreshPlayerQualifying, this);\r\n        TSCommon.removeEvent(HallResources.onSeasonLevelUp, this.refreshHallSeasonLevelUp, this);\r\n        \r\n    },\r\n\r\n    //通用的设置阴影背景层的显示\r\n    setShadowNodeVis:function(event)\r\n    {\r\n        var data = event.data;\r\n        var self = this;\r\n        if (!data){\r\n            var action =cc.fadeOut(0.2);\r\n            var action2 = cc.callFunc(function(){\r\n                self.shadowNode.active = data;\r\n            });\r\n            var sequence = cc.sequence(action, action2);\r\n            this.shadowNode.runAction(sequence);\r\n        }else{\r\n            var action =cc.fadeIn(0.01);\r\n            this.shadowNode.active = data;\r\n            this.shadowNode.runAction(action);\r\n        }\r\n        \r\n    },\r\n\r\n    //刷新钻石数据\r\n    refreshPlayerDiamondCount:function(){\r\n        var self = this;\r\n        //设置时间\r\n        var callBackFunc = function(bolSuccess,data){\r\n            if (bolSuccess) {\r\n                HallResources.getInstance().removeLoading();\r\n                var jsonObject = JSON.parse(data)\r\n                console.log(\"-----------------xcxGetUserBalance.aspx返回数据----------------------------\")\r\n                console.log(jsonObject)\r\n                var RetCode = jsonObject.RetCode; //返回标记\r\n                var myBalance = jsonObject.myBalance; //钻石数\r\n                // RetCode(1=成功  0,255,-1=其他错误, 254=access_token错误, 253=openId错误, 252=offer_id错误, 251=session_key错误, 90010=登录失败, 90013=余额不足)\r\n                if(RetCode == 1)\r\n                {\r\n                    self.diamondCount.string = myBalance;\r\n                    require(\"HallControl\").getInstance().getPublicUserInfo().nDiamond = myBalance;\r\n                }\r\n                else\r\n                {\r\n                    TSCommon.dispatchEvent(this.onShowFlyMessage,[\"获取钻石数目失败\"]);\r\n                }\r\n            }\r\n        };\r\n        console.log(\"告诉服务器，去微信请求获得钻石\")\r\n        var myOpenId = WeixinManager.getInstance().userInfo.openid;\r\n        require('HallWebRequest').getInstance().getPlayerDiamondCount(myOpenId,callBackFunc);\r\n    },\r\n\r\n    //获得邀请好友的数据\r\n    getInviteFriendData:function(){\r\n        var self = this;\r\n        //设置时间\r\n        var callBackFunc = function(bolSuccess,data){\r\n            if (bolSuccess) {\r\n                if (bolSuccess) {\r\n                    HallResources.getInstance().removeLoading();\r\n                    var jsonObject = JSON.parse(data)\r\n                    console.log(\"-----------------WxInviteAwardGetActivityInfo.aspx返回数据----------------------------\")\r\n                    console.log(jsonObject)\r\n                    var activityData = [];\r\n                    var startTime = jsonObject.StartTime; //活动开始时间  未配置返回空字符串\r\n                    var endTime = jsonObject.EndTime; //活动结束时间  未配置返回空字符串\r\n                    activityData.awardOne = jsonObject.AwardOne; //第一个奖励额度\r\n                    activityData.awardTwo = jsonObject.AwardTwo; //第二个奖励额度\r\n                    activityData.awardThree = jsonObject.AwardThree; //第三个奖励额度\r\n                    activityData.startTime = self.timeFindMonthAndDay(startTime) + \" ~\";\r\n                    activityData.endTime = self.timeFindMonthAndDay(endTime);\r\n                    \r\n                    self.inviteFriendLayer.getComponent(\"inviteFriendLayer\").initData(activityData);\r\n                }\r\n            }\r\n        };\r\n        require('HallWebRequest').getInstance().getWxInviteActivityInfo(callBackFunc);\r\n        //设置玩家信息\r\n        if(self.isWeChatPlatform()){\r\n            var callBackFunc = function(bolSuccess,data){\r\n                if (bolSuccess) {\r\n                    if (bolSuccess) {\r\n                        HallResources.getInstance().removeLoading();\r\n                        var jsonObject = JSON.parse(data)\r\n                        console.log(\"-----------------WxInviteAwardGetInfo.aspx返回数据----------------------------\")\r\n                        console.log(jsonObject)\r\n                        var activityData = [];\r\n                        var friendData = jsonObject.table; \r\n\r\n                        var img = self.imgUrl;\r\n                        self.inviteFriendLayer.getComponent(\"inviteFriendLayer\").initFriendData(friendData,img);\r\n                    }\r\n                }\r\n            };\r\n            if(WeixinManager.getInstance().userInfo)\r\n            {\r\n                var myOpenId = WeixinManager.getInstance().userInfo.openid;\r\n                require('HallWebRequest').getInstance().getWxInviteAwardGetInfo(myOpenId,callBackFunc);\r\n            }\r\n           \r\n        }\r\n    },\r\n\r\n    //获得破产奖励\r\n    getBankruptReward:function(){\r\n        var self = this;\r\n        // var HallResources = require(\"HallResources\");\r\n        var callBackFunc = function(bolSuccess,data){\r\n            console.log(bolSuccess+\"回调金币\"+data)\r\n            if (bolSuccess) {\r\n                HallResources.getInstance().removeLoading();\r\n                var jsonObject = JSON.parse(data)\r\n                console.log(\"-----------------WxBankruptAwardGetAward.aspx返回数据----------------------------\")\r\n                console.log(jsonObject)\r\n                var backMsg = jsonObject.RetCode;\r\n                //(0=失败 1=领取成功 11=密码错误 12=已达到领取次数上限)\r\n                if (backMsg == 0){\r\n                    console.log(\"领取失败\")\r\n                }else if (backMsg == 1){\r\n                    console.log(\"领取成功,获得金币：\"+self.bankruptAwardAmount)\r\n                    var goldData = require(\"HallControl\").getInstance().getPublicUserInfo().nGold\r\n                    require(\"HallControl\").getInstance().getPublicUserInfo().nGold = parseInt(self.bankruptAwardAmount) + parseInt(goldData);\r\n                    self.collectBtn.node.active = false;\r\n                    TSCommon.dispatchEvent(HallResources.onShowFlyMessage,[\"+\"+goldData,\"texture/hallRes/roomInfo/gold\"]);\r\n                    TSCommon.dispatchEvent(HallResources.onGoldOrDiamondChanged,true);\r\n                }else if (backMsg == 11){\r\n                    console.log(\"密码错误\")\r\n                }else if (backMsg == 12){\r\n                    console.log(\"已达到领取次数上限\")\r\n                }\r\n            }\r\n        };\r\n        console.log(\"破产之后微信分享回来，去领取金币\")\r\n        require('HallWebRequest').getInstance().getBankruptReward(callBackFunc);\r\n    },\r\n\r\n    //获得破产消息\r\n    getBankruptInfo:function(func){\r\n        var self = this;\r\n        var callBackFunc = function(bolSuccess,data){\r\n            if (bolSuccess) {\r\n                HallResources.getInstance().removeLoading();\r\n                var jsonObject = JSON.parse(data)\r\n                console.log(\"-----------------WxBankruptAwardGetInfo.aspx返回数据----------------------------\")\r\n                console.log(jsonObject)\r\n                self.totalAwardTimes = jsonObject.TotalAwardTimes;\r\n                self.bankruptAwardAmount = jsonObject.AwardAmount;\r\n                self.curAwardTimes = jsonObject.CurAwardTimes;\r\n                console.log(\"分享获得金币\"+self.bankruptAwardAmount);\r\n                func(self.curAwardTimes < self.totalAwardTimes);\r\n            }\r\n        };\r\n        require('HallWebRequest').getInstance().getBankruptInfo(callBackFunc);\r\n    },\r\n\r\n    //设置是否显示用户收藏按钮\r\n    getCollectInfo:function() {\r\n\r\n        var self = this;\r\n        var callBackFunc = function(bolSuccess,data){\r\n            if (bolSuccess) {\r\n                HallResources.getInstance().removeLoading();\r\n                var jsonObject = JSON.parse(data)\r\n                console.log(\"-----------------WxFavAwardGetInfo.aspx返回数据----------------------------\")\r\n                console.log(jsonObject)\r\n                var isAward = jsonObject.IsAward;\r\n                self.awardAmount = jsonObject.AwardAmount;\r\n                self.collectBtn.node.active = (isAward == 0);\r\n            }\r\n        };\r\n        require('HallWebRequest').getInstance().getCollectInfo(callBackFunc);\r\n    },\r\n\r\n    //发送数据到子域\r\n    sendMsgToWXChildren:function()\r\n    {\r\n        var self = this;\r\n        console.log(\"发送数据到子域\");\r\n        if(self.isWeChatPlatform()){\r\n            //这里检测是不是其他玩家分享链接进入\r\n            console.log(\"测试分享1\"+wx.getLaunchOptionsSync()+ \"   json=\"+JSON.stringify(wx.getLaunchOptionsSync()))\r\n            console.log(\"测试分享2\"+wx.getLaunchOptionsSync().query.inviteOpenId)\r\n            console.log(\"测试分享2 inviteOpendId=\"+wx.getLaunchOptionsSync().query.inviteOpenId)\r\n            console.log(\"测试分享 json=\"+JSON.stringify(wx.getLaunchOptionsSync().query))\r\n            console.log(\"测试分享 shareTicket=\"+JSON.stringify(wx.getLaunchOptionsSync().shareTicket))\r\n            var tbData = wx.getLaunchOptionsSync();\r\n            if(tbData.shareTicket == \"undefined\" || tbData.shareTicket == null || tbData.shareTicket == \"\")\r\n            {}\r\n            else\r\n            {\r\n                console.log(\"这里给tbData.shareTicket赋值了，说明从群分享打开\")\r\n                self.shareTicket = tbData.shareTicket;\r\n            }\r\n            // wx.onshow(res => {\r\n            //     if(res.query){\r\n            //         // show pk UI\r\n            //         console.log(\"测试分享2，获得query\"+res.query)\r\n            //     }\r\n            // })\r\n            this.updateWxRankData();\r\n        }\r\n    },\r\n\r\n    //刷新子域微信排行\r\n    updateWxRankData:function()\r\n    {\r\n        var self = this;\r\n        var callBackFunc = function(bolSuccess,data){\r\n            if (bolSuccess) {\r\n                HallResources.getInstance().removeLoading();\r\n                var jsonObject = JSON.parse(data)\r\n                console.log(\"-----------------WxFriendsScoreRank.aspx返回数据----------------------------\")\r\n                console.log(jsonObject)\r\n                var data = jsonObject.table[0]\r\n                var playerRankNum = data.RankNum;\r\n                var playerOpenID = data.OpenID\r\n                // var playerUserId = data.UserID\r\n                var playerScore = data.Score\r\n\r\n                console.log(\"该玩家的openid：\"+playerOpenID);\r\n                console.log(\"该玩家的排名：\"+playerRankNum);\r\n                console.log(\"该玩家的分数：\"+playerScore);\r\n                // 这里去将用户数据上报（排行榜要用）\r\n                var kvDataList = new Array();\r\n                kvDataList.push(\r\n                {\r\n                    key: \"playerScore\",\r\n                    value:\"\" + playerScore\r\n                });\r\n                wx.setUserCloudStorage({\r\n                    KVDataList: kvDataList\r\n                })\r\n\r\n                \r\n                self._updateSubDomainCanvas();\r\n\r\n            }\r\n        };\r\n        var myOpenId = WeixinManager.getInstance().userInfo.openid;\r\n        require('HallWebRequest').getInstance().getPlayerData(myOpenId,callBackFunc);\r\n    },\r\n\r\n    //修改大厅金币显示\r\n    changMoney:function()\r\n    {\r\n        var self = this;\r\n        var publicUserInfo = require(\"HallControl\").getInstance().getPublicUserInfo();\r\n        self.goldCount.string = this.formatGold(publicUserInfo.nGold,true);\r\n    },\r\n\r\n    //打开连胜奖励界面\r\n    openConsecutiveVictoriesReward:function(winCount)\r\n    {\r\n        this.consecutiveVictoriesRewardNode.active = true;\r\n        this.consecutiveVictoriesRewardNode.getComponent(\"ConsecutiveVictoriesRewardLayer\").initData(winCount);\r\n    },\r\n\r\n    //打开获得奖励界面，目前只有领取收藏奖励使用到了\r\n    openGetReward:function(data)\r\n    {\r\n        this.getRewardLayer.active = true;\r\n        this.getRewardLayer.getComponent(\"getRewardLayer\").initData(data);\r\n    },\r\n    \r\n    //点击更多游戏按钮\r\n    onClickMoreGameBtn:function(){\r\n        HallResources.getInstance().playButtonEffect();\r\n        var self = this;\r\n        //分享的事件监听\r\n        if(self.isWeChatPlatform()){\r\n            //发个请求获得分享的资源\r\n            wx.request({\r\n                url: 'https://mprogram.boomegg.cn/sprogram/ads/c/ad/get',\r\n                method:'post',\r\n                data: {\r\n                id: Domain.WEIXIN_APPID// 本小程序id, 测试的时候用“11111”,正式上线请修改为本小程序的appid,并联系萌蛋的对接同学配置\r\n                },\r\n                header: {\r\n                    'content-type': 'application/x-www-form-urlencoded'\r\n                },\r\n                success: function (res) {\r\n                    if(res.data.ret==0){\r\n                        // self.moreGameNode.getComponent(\"MoreGameLayer\").initData(res.data.data.imgUrl);\r\n                        // self.moreGameNode.active = true;\r\n                        var arr = Array();\r\n                        arr.push(res.data.data.imgUrl);\r\n                        wx.previewImage({\r\n                            current: res.data.data.imgUrl, // 当前显示图片的http链接\r\n                            urls: arr // 需要预览的图片http链接列表\r\n                          })\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    //点击快速游戏按钮\r\n    onClickQuickStartButton:function()\r\n    {\r\n        HallResources.getInstance().playButtonEffect();\r\n        var gameLibSink  =  require('GameLibSink').getInstance();\r\n        var gameLib =  gameLibSink.getGameLib();\r\n        var pRoomList = gameLib.getStationList();\r\n        var size = pRoomList.length;\r\n        if (size == 0) {\r\n            return;\r\n        }\r\n        var server =  HallResources.getInstance().getEnterBestRoom(this.chooseGameType);\r\n        if (server == null)\r\n        {\r\n            console.log(\"没有服务器或者金币不足\");\r\n            TSCommon.dispatchEvent(HallResources.onNoEnoughGold, true );\r\n            return\r\n        }\r\n        gameLib.autoEnterGameRoom(server.szStationName);\r\n        HallResources.getInstance().showLoading();\r\n    },\r\n\r\n    //点击大厅的游戏按钮进入游戏房间选择耳二级界面\r\n    onClickGameBtn:function(event,data){\r\n        //隐藏排行榜\r\n        this.rankListNode.node.active = false;\r\n        this.moreGameListNode.active = false;\r\n\r\n        //记录日志\r\n        HallResources.recordPlayerLogToServer(HallResources.recordList.choose_method);\r\n        //预加载游戏场景界面\r\n        \r\n        if (data == 0){\r\n            this.onClickButton(\"yjly\");\r\n        }\r\n        else if(data == 36){\r\n            cc.director.preloadScene(\"XueLiuGameScene\");\r\n            this.onClickButton(\"xueliu\");\r\n        }\r\n        else if(data == 44){\r\n            this.onClickButton(\"xuezhan\");\r\n        }\r\n        else if(data == 97){\r\n            this.onClickButton(\"gdmj\");\r\n        }\r\n        else if(data == 101){\r\n            this.onClickButton( this.hotGameEnName);\r\n        }else if(data == 102){\r\n            this.onClickButton( this.cwGameEnName);\r\n        }\r\n       \r\n        \r\n    },\r\n\r\n     //显示二级界面\r\n     onClickButton:function(gameName)\r\n     {   \r\n         HallResources.getInstance().playButtonEffect();\r\n         this.chooseGameType = gameName;\r\n         // var gameInfo = pSender.getObjectData();\r\n         var gameList = require('HallControl').getInstance().getGameList();\r\n         console.log(\"下面是游戏列表\")\r\n         console.log(gameList)\r\n         var gameInfo = null;\r\n         for (var i= 0;i<gameList.length;i++)\r\n        {   \r\n            //设置两个按钮内容\r\n            if (gameList[i].m_sEn == gameName) {\r\n                gameInfo = gameList[i];\r\n            }\r\n        }\r\n        G.goldGameReady = gameInfo.m_iId;\r\n         require(\"GameEntrance\").start(gameInfo.m_iId,gameInfo.m_sServeIp,gameInfo.m_iPort,gameInfo.m_sWr);\r\n         var pRoomList =  HallResources.getInstance().getLianXiChangStation(gameInfo.m_iId);\r\n         console.log(\"下面是游戏房间\")\r\n         console.log(pRoomList)\r\n         this.showGameRoom(pRoomList);\r\n     },\r\n\r\n    //通用的打开一个新的窗口界面，作用是让界面从小到大显示，必须在引擎编辑器里提前把相应的界面scale设置一下\r\n    openAndChangeScaleAction(node)\r\n    {\r\n        // var HallResources = require(\"HallResources\");\r\n        TSCommon.dispatchEvent(HallResources.onChangeShadow,true);\r\n        node.active = true;\r\n        var action =cc.fadeIn(0.01);\r\n        var action2 = cc.scaleTo(0.1, 1, 1);\r\n        var sequence = cc.sequence(action, action2);\r\n        node.runAction(sequence);\r\n    },\r\n\r\n    //点击玩家头像\r\n    onClickUserIcon:function(){\r\n        HallResources.getInstance().playButtonEffect();\r\n        this.openAndChangeScaleAction( this.userInfoLayer);\r\n\r\n        var self = this;\r\n        var callBackFunc = function(bolSuccess,data){\r\n            if (bolSuccess) {\r\n                HallResources.getInstance().removeLoading();\r\n                var jsonObject = JSON.parse(data)\r\n                console.log(\"-----------------WxGetWinStat.aspx返回数据----------------------------\")\r\n                console.log(jsonObject)\r\n                var tbData = jsonObject.table[0];\r\n                // --返回信息：总局数(TotalCount)(int)、最高连胜(ContinueWinCount)(int)、胜率(WinRate)(VARCHAR(8))\r\n                var totalCount = tbData.TotalCount;\r\n                var continueWinCount = tbData.ContinueWinCount;\r\n                var winRate = tbData.WinRate;\r\n                self.userInfoLayer.getComponent(\"UserInfoLayer\").initData(totalCount,continueWinCount,winRate);\r\n            }\r\n        };\r\n        require('HallWebRequest').getInstance().getPlayerWinState(callBackFunc);\r\n    },\r\n\r\n    //通用的群分享接口，传参为群分享成功后的回调函数\r\n    commonShareToGroup(func){\r\n        var self = this;\r\n        self.shareCallBackFunc = func;\r\n        // var HallResources = require(\"HallResources\");\r\n        if(self.isWeChatPlatform()){\r\n            wx.shareAppMessage({\r\n                title: \"一脚癞油，戳虾子，本群谁能与我一战！快查看你在群里的排行。\",\r\n                imageUrl: HallResources.groupShareImgUrl,\r\n                success(res){\r\n                    console.log(\"转发成功!!!\")\r\n                    if(res.shareTickets == null || res.shareTickets == undefined || res.shareTickets == \"\"){ //没有群信息，说明分享的是个人\r\n                        TSCommon.dispatchEvent(HallResources.onShowFlyMessage,[\"请分享到群聊\"]);\r\n                    }else{ //有群信息\r\n                        console.log(\"下面是群消息数据!!!\")\r\n                        console.log(res);\r\n                        if(res.shareTickets.length > 0){ \r\n                            self.commonShareTickets = res.shareTickets[0];\r\n                            wx.getShareInfo({\r\n                                shareTicket: self.commonShareTickets,\r\n                                success: function (res) {\r\n                                    console.log(\"下面是群消息唯一性数据!!!\")\r\n                                    console.log(res);\r\n                                    // self.groupShareUniqueness(res.encryptedData,res.iv);\r\n                                    self.shareCallBackFunc(res.encryptedData,res.iv);\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                },\r\n                fail(res){\r\n                    console.log(\"转发失败!!!\")\r\n                    console.log(res);\r\n                } \r\n            })\r\n        }\r\n    },\r\n\r\n    //把数据报告给服务器进行群分享的唯一性判断\r\n    // groupShareUniqueness(encryptedData,iv){\r\n    //     var callBackFunc = function(bolSuccess,data){\r\n    //         if (bolSuccess) {\r\n    //             HallResources.getInstance().removeLoading();\r\n    //             var jsonObject = JSON.parse(data)\r\n    //             console.log(\"-----------------WxShareDiamondAwardGetInfo.aspx返回数据----------------------------\")\r\n    //             console.log(jsonObject)\r\n    //             var openGId = jsonObject.openGId;\r\n    //             // --返回信息：{\"openGId\":\"GkfMq5N2CZ2deNy4rHw1H7Iq9yUM\",\"watermark\":{\"timestamp\":1532593629,\"appid\":\"wx0fb10a69040a2711\"}}\r\n    //             self.shareCallBackFunc(openGId);\r\n    //         }\r\n    //     };\r\n    //     var myOpenId = WeixinManager.getInstance().userInfo.openid;\r\n    //     require('HallWebRequest').getInstance().getWxAESDecript(myOpenId,encryptedData,iv,callBackFunc); \r\n    // },\r\n\r\n    //领取ios版本分享奖励\r\n    iosShareAddArward(awardCount){\r\n        var self = this;\r\n        var callBackFunc = //function(wxGroupID){\r\n            function(encryptedData,iv){\r\n            var func = function(bolSuccess,data){\r\n                if (bolSuccess) {\r\n                    HallResources.getInstance().removeLoading();\r\n                    var jsonObject = JSON.parse(data)\r\n                    console.log(\"-----------------WxShareDiamondAwardGetAward.aspx返回数据----------------------------\")\r\n                    console.log(jsonObject)\r\n                    var RetCode = jsonObject.RetCode; //返回标记\r\n                    var myBalance = jsonObject.myBalance;\r\n                    //RetCode(1=成功 11=密码错误 12=次数上限 13=同一个群重复领取 0,255,-1=其他错误, \r\n                    // 254=access_token错误, 253=openId错误, 252=offer_id错误, 251=session_key错误, 90010=登录失败, 90013=余额不足)\r\n                    if(RetCode == 1)\r\n                    {\r\n                        // self.refreshPlayerDiamondCount();\r\n                        self.diamondCount.string = myBalance;\r\n                        require(\"HallControl\").getInstance().getPublicUserInfo().nDiamond = myBalance;\r\n                        TSCommon.dispatchEvent(HallResources.onShowFlyMessage,[\"+\"+awardCount,\"texture/commonRes/money/diamondCoin\"]);\r\n                    }\r\n                    else if(RetCode == 11)\r\n                    {\r\n                        TSCommon.dispatchEvent(self.onShowFlyMessage,[\"密码错误\"]);\r\n                    }\r\n                    else if(RetCode == 12)\r\n                    {\r\n                        TSCommon.dispatchEvent(self.onShowFlyMessage,[\"次数达到上限\"]);\r\n                    }\r\n                    else if(RetCode == 13)\r\n                    {\r\n                        TSCommon.dispatchEvent(self.onShowFlyMessage,[\"同一个群重复领取\"]);\r\n                    }\r\n                    else\r\n                    {\r\n                        TSCommon.dispatchEvent(self.onShowFlyMessage,[\"分享失败\"]);\r\n                    }\r\n                }\r\n                \r\n            };\r\n            // require('HallWebRequest').getInstance().getWxShareDiamondAwardGetAward(wxGroupID,func); \r\n            var myOpenId = WeixinManager.getInstance().userInfo.openid;\r\n            require('HallWebRequest').getInstance().getWxShareDiamondAwardGetAward(encryptedData,iv,myOpenId,func);\r\n            \r\n        };\r\n        self.commonShareToGroup(callBackFunc);\r\n    },\r\n\r\n    //打开ios版本商店\r\n    openIosPlatformShare(){\r\n        var self = this;\r\n        var openIOSShareLayerFunc = function(totalTimes,curTimes,awardAmount){\r\n            var shareIosLayer = cc.instantiate(self.commonTipsPrefab);\r\n            var data = [];\r\n            data.titleIcon = \"texture/commonRes/frameTips/freeDiamondTitle\";\r\n            data.msg = \"分享到不同的群，即可领取免费钻石奖励！\";\r\n            data.showIcon = \"texture/commonRes/frameTips/zuanshi\";\r\n            data.showIconLabel = \"+\"+awardAmount;\r\n            data.buttonIcon1 = \"texture/commonRes/button/shareBtn\";\r\n            data.button1Func = function(){\r\n                shareIosLayer.getComponent(\"commonTipsLayer\").clickCloseBtn();\r\n                //分享到群，成功后加钻\r\n                self.iosShareAddArward(awardAmount);\r\n            };\r\n            if (curTimes == totalTimes){\r\n                data.otherText2 = \"今日分享次数已达上限\";\r\n                data.otherText1 = \"\";\r\n                data.otherText3 = \"\";\r\n                data.movePos = -360;\r\n            }\r\n            else{\r\n                data.otherText1 = \"今日已分享：\";\r\n                data.otherText2 = \"\"+curTimes;\r\n                data.otherText3 = \"/\"+totalTimes;\r\n                data.movePos = -170;\r\n            }\r\n            \r\n            shareIosLayer.parent = self.node;\r\n            shareIosLayer.getComponent(\"commonTipsLayer\").initData(data);   \r\n            shareIosLayer.setPosition(0,0);  \r\n        }\r\n        \r\n        var callBackFunc = function(bolSuccess,data){\r\n            if (bolSuccess) {\r\n                HallResources.getInstance().removeLoading();\r\n                var jsonObject = JSON.parse(data)\r\n                console.log(\"-----------------WxShareDiamondAwardGetInfo.aspx返回数据----------------------------\")\r\n                console.log(jsonObject)\r\n                var totalTimes = jsonObject.TotalTimes;\r\n                var curTimes = jsonObject.CurTimes;\r\n                var awardAmount = jsonObject.AwardAmount;\r\n                // --返回信息：TotalTimes --每日可领取次数CurTimes --今日已领取次数 AwardAmount --奖励额度\r\n                openIOSShareLayerFunc(totalTimes,curTimes,awardAmount);\r\n            }\r\n        };\r\n        require('HallWebRequest').getInstance().getWxShareDiamondAwardGetInfo(callBackFunc); \r\n    },\r\n\r\n    //打开商店界面\r\n    onClickMallBtn:function(event,openType){\r\n        HallResources.getInstance().playButtonEffect();\r\n        if (openType && openType == 2){\r\n            if(cc.sys.os == cc.sys. OS_IOS){\r\n                this.openIosPlatformShare();\r\n            }\r\n            else{\r\n                this.openAndChangeScaleAction( this.mallLayer);\r\n                this.mallLayer.getComponent(\"MallLayer\").showDiamondNode(); \r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.openAndChangeScaleAction( this.mallLayer);\r\n            this.mallLayer.getComponent(\"MallLayer\").showGoldNode();\r\n        }\r\n    },\r\n\r\n    //领取每日登陆奖励\r\n    getDailyReward:function(){\r\n        //每天提醒可以领取登录奖励\r\n        var self = this;\r\n        var callBackFunc = function(bolSuccess,data){\r\n            if (bolSuccess) {\r\n                HallResources.getInstance().removeLoading();\r\n                var jsonObject = JSON.parse(data)\r\n                console.log(\"-----------------GetSignInfo.aspx返回数据----------------------------\")\r\n                console.log(jsonObject)\r\n                var itemData = jsonObject.table;\r\n                var bolTodayIsClick = jsonObject.sc;\r\n                var allData = [];\r\n                for (var i = 0;i < itemData.length;i++){\r\n                    var item = itemData[i];\r\n                    var gameInfo = [];\r\n                    gameInfo.days = item.Days;\r\n                    gameInfo.amount = item.Amount;\r\n                    gameInfo.hassign = item.HasSign;\r\n                    gameInfo.icon = item.Icon;\r\n                    allData.push(gameInfo);\r\n                }\r\n                if (bolTodayIsClick == 1){\r\n                    // self.dailyLayer.active = true;\r\n                    self.openAndChangeScaleAction( self.dailyLayer);\r\n                    self.dailyLoginRedPoint.active = true;\r\n                    self.dailyLayer.getComponent(\"dailyLoginLayer\").initData(allData,bolTodayIsClick);\r\n                }\r\n            }\r\n        };\r\n        require('HallWebRequest').getInstance().getDailyCheckInfo(callBackFunc);\r\n    },\r\n\r\n    //点击每日登陆奖励按钮\r\n    onClickDailyBtn:function(){\r\n        HallResources.getInstance().playButtonEffect();\r\n        \r\n        var self = this;\r\n        var callBackFunc = function(bolSuccess,data){\r\n            if (bolSuccess) {\r\n                HallResources.getInstance().removeLoading();\r\n                var jsonObject = JSON.parse(data)\r\n                console.log(\"-----------------GetSignInfo.aspx返回数据----------------------------\")\r\n                console.log(jsonObject)\r\n                var itemData = jsonObject.table;\r\n                var bolTodayIsClick = jsonObject.sc;\r\n                var allData = [];\r\n                for (var i = 0;i < itemData.length;i++){\r\n                    var item = itemData[i];\r\n                    var gameInfo = [];\r\n                    gameInfo.days = item.Days;\r\n                    gameInfo.amount = item.Amount;\r\n                    gameInfo.hassign = item.HasSign;\r\n                    gameInfo.icon = item.Icon;\r\n                    allData.push(gameInfo);\r\n                }\r\n                self.openAndChangeScaleAction( self.dailyLayer);\r\n                // self.dailyLayer.active = true;\r\n                self.dailyLayer.getComponent(\"dailyLoginLayer\").initData(allData,bolTodayIsClick);\r\n            }\r\n        };\r\n        require('HallWebRequest').getInstance().getDailyCheckInfo(callBackFunc);\r\n    },\r\n\r\n    //领取收藏奖励\r\n    getCollectReward:function() {\r\n        var self = this;\r\n        // var HallResources = require(\"HallResources\");\r\n        var callBackFunc = function(bolSuccess,data){\r\n            if (bolSuccess) {\r\n                HallResources.getInstance().removeLoading();\r\n                var jsonObject = JSON.parse(data)\r\n                console.log(\"-----------------WxFavAwardGetAward.aspx返回数据----------------------------\")\r\n                console.log(jsonObject)\r\n                var backMsg = jsonObject.RetCode;\r\n                //(0=失败 1=领取成功 11=密码错误 12=已经领过)\r\n                if (backMsg == 0){\r\n                    console.log(\"领取失败\")\r\n                }else if (backMsg == 1){\r\n                    console.log(\"领取成功\")\r\n                    var goldData = require(\"HallControl\").getInstance().getPublicUserInfo().nGold\r\n                    require(\"HallControl\").getInstance().getPublicUserInfo().nGold = parseInt(self.awardAmount) + parseInt(goldData);\r\n                    self.collectBtn.node.active = false;\r\n                    \r\n                    var allData = [];\r\n                    allData.moneytype = 7;\r\n                    allData.wantamount = self.awardAmount;\r\n\r\n                    self.openGetReward(allData);\r\n                    TSCommon.dispatchEvent(HallResources.onClearCollectionLoginRedPoint,true);\r\n                    // TSCommon.dispatchEvent(HallResources.onShowFlyMessage,[\"+\"+self.awardAmount,\"texture/hallRes/roomInfo/gold\"]);\r\n                    TSCommon.dispatchEvent(HallResources.onGoldOrDiamondChanged,true);\r\n                }else if (backMsg == 11){\r\n                    console.log(\"密码错误\")\r\n                }else if (backMsg == 12){\r\n                    console.log(\"已经领过\")\r\n                }\r\n            }\r\n        };\r\n        require('HallWebRequest').getInstance().getCollectReward(callBackFunc);\r\n    },\r\n\r\n    //点击赛季问号按钮\r\n    showSeasonLayer:function(){\r\n        HallResources.getInstance().playButtonEffect();\r\n        this.openAndChangeScaleAction(this.seasonNode);\r\n    },\r\n\r\n    //点击连续奖励按钮\r\n    onClickConsecutiveVictoriesBtn:function(){\r\n        // HallResources.getInstance().playButtonEffect();\r\n        // TSCommon.dispatchEvent(HallResources.onShowFlyMessage,[\"暂未开放，敬请期待！\"]);\r\n        this.openAndChangeScaleAction(this.consecutiveVictoriesNode);\r\n        this.updateConsecutiveVictoriesData();\r\n    },\r\n\r\n    //重置连胜相关信息\r\n    updateConsecutiveVictoriesData:function(){ \r\n        \r\n        var self = this;\r\n        self.consecutiveRedPoint.active = false;\r\n        var callBackFunc = function(bolSuccess,data){\r\n            if (bolSuccess) {\r\n                HallResources.getInstance().removeLoading();\r\n                var jsonObject = JSON.parse(data)\r\n                console.log(\"-----------------ContinuityWinGetInfo.aspx返回数据----------------------------\")\r\n                console.log(jsonObject)\r\n                self.consecutiveVictoriesNode.getComponent(\"ConsecutiveVictoriesLayer\").initData(jsonObject.table);\r\n                for(var i = 0;i < jsonObject.table.length;i++)\r\n                {\r\n                    if ((jsonObject.table[i].CanAward == 1)&&(jsonObject.table[i].IsGetAward == 0)){\r\n                        self.consecutiveRedPoint.active = true;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        require('HallWebRequest').getInstance().getContinuityWinGetInfo(callBackFunc);\r\n    },\r\n\r\n    //点击收藏按钮\r\n    onClickCollectBtn:function(){\r\n        HallResources.getInstance().playButtonEffect();\r\n        var self = this;\r\n        var collectLayer = cc.instantiate(this.commonTipsPrefab);\r\n        var data = [];\r\n        if (self.bClickCollectionBtn)\r\n        {\r\n            data.titleIcon = \"texture/activityRes/collectGame/collectTitle\";\r\n            data.msg = \"点击按钮后选择收藏，首次收藏即可获得\"+this.awardAmount+\"金币。\";\r\n            data.showIcon = \"texture/commonRes/frameTips/jinbi\";\r\n            data.showIconLabel = \"*\"+this.awardAmount;\r\n            data.buttonIcon1 = \"texture/commonRes/button/receiveBtn\";\r\n            data.button1Func = function(){\r\n                collectLayer.getComponent(\"commonTipsLayer\").clickCloseBtn();\r\n                //第二次点击，关闭界面，直接领取\r\n                self.bClickCollectionBtn = false;\r\n                self.getCollectReward(); \r\n            };\r\n        }\r\n        else\r\n        {\r\n            data.titleIcon = \"texture/activityRes/collectGame/collectTitle\";\r\n            data.msg = \"点击按钮后选择收藏，首次收藏即可获得\"+this.awardAmount+\"金币。\";\r\n            data.showIcon = \"texture/commonRes/frameTips/jinbi\";\r\n            data.showIconLabel = \"*\"+this.awardAmount;\r\n            data.buttonIcon1 = \"texture/activityRes/collectGame/goToCollectBtn\";\r\n            data.button1Func = function(){\r\n                collectLayer.getComponent(\"commonTipsLayer\").clickCloseBtn();\r\n                //第一次点击，关闭界面，设置状态为可以领取\r\n                self.bClickCollectionBtn = true;\r\n                self.collectionLoginRedPoint.active = true;\r\n            };  \r\n        }\r\n        \r\n        collectLayer.parent = this.node;\r\n        collectLayer.getComponent(\"commonTipsLayer\").initData(data);   \r\n        collectLayer.setPosition(0,0);   \r\n\r\n        collectLayer.getComponent(\"commonTipsLayer\").showGameLoadTips();\r\n    },\r\n\r\n    //点击设置按钮\r\n    onClickSetBtn:function(){\r\n        HallResources.getInstance().playButtonEffect();\r\n        this.setLayer.active = true;\r\n        // this.openAndChangeScaleAction( this.setLayer);\r\n        // var HallResources = require(\"HallResources\");\r\n        TSCommon.dispatchEvent(HallResources.onChangeShadow,true);\r\n    },\r\n\r\n    //点击邀请按钮\r\n    onClickInviteBtn:function(){\r\n        HallResources.getInstance().playButtonEffect();\r\n        this.getInviteFriendData();\r\n        this.openAndChangeScaleAction( this.inviteFriendLayer);\r\n        // this.inviteFriendLayer.active = true;\r\n        var tableInfo = require(\"HallControl\").getInstance().getPublicUserInfo().tableBoardInfo;\r\n        for(var i = 0;i<tableInfo.length;i++){\r\n            if(tableInfo[i].TableBoardNo == 1)\r\n            {\r\n                this.inviteFriendLayer.getComponent(\"inviteFriendLayer\").setHasGetDesk(tableInfo[i].IsGet == 1)\r\n            }\r\n        }\r\n        \r\n    },\r\n\r\n    //点击帮助按钮\r\n    onClickHelpBtn:function(){\r\n        HallResources.getInstance().playButtonEffect();\r\n        // this.helpLayer.active = true;\r\n        this.openAndChangeScaleAction( this.helpLayer);\r\n    },\r\n    \r\n    //显示游戏房间列表\r\n    showGameRoom:function(data){\r\n        var self = this;\r\n        this.hallNode.active = false;\r\n        this.gameRoomNode.active = true;\r\n        this.roomList.getComponent(\"RoomTypeList\").showRoomList(data);\r\n        var gameNameTexture = \"\"\r\n        if (this.chooseGameType == \"xueliu\")\r\n        {\r\n            gameNameTexture = \"texture/hallRes/gameList/xueliuGame\"\r\n        }\r\n        else if (this.chooseGameType == \"xuezhan\")\r\n        {\r\n            gameNameTexture = \"texture/hallRes/gameList/xuezhanGame\"\r\n        }\r\n        else if (this.chooseGameType == \"gdmj\")\r\n        {\r\n            gameNameTexture = \"texture/hallRes/gameList/gdmjGame\"\r\n        }\r\n        else\r\n        {\r\n            gameNameTexture = \"texture/hallRes/gameList/yjlyGame\"\r\n        }\r\n        \r\n        cc.loader.loadRes(gameNameTexture,cc.SpriteFrame,function(err,spriteFrame){\r\n            if(!err)\r\n            {   \r\n                self.gameName.spriteFrame = spriteFrame;\r\n            }\r\n        });\r\n        // this.moneyNode.x = this.moneyNode.x - 240; \r\n    },\r\n\r\n    //显示公共飘飞提示\r\n    showMessage:function(msg,img){\r\n        var self = this;\r\n        self.commonTipsLabelNode.active = true;\r\n        self.commonTipsLabel.string = msg;\r\n        if (img){\r\n            cc.loader.loadRes(img,cc.SpriteFrame,function(err,spriteFrame){\r\n                if(!err)\r\n                {   \r\n                    self.commonTipsIcon.spriteFrame = spriteFrame;\r\n                }\r\n            });\r\n            self.commonTipsIcon.node.active = true;\r\n            self.commonTipsIcon.node.setPositionX(-75-self.commonTipsLabel.node.width/2);\r\n        }\r\n        else\r\n        {\r\n            self.commonTipsIcon.node.active = false;\r\n        }\r\n        self.commonTipsLabelNode.stopAllActions();\r\n        var moveTo = cc.moveTo(1.2, 0,150);\r\n        var callback = cc.callFunc(function(){\r\n            self.commonTipsLabelNode.active = false;\r\n            self.commonTipsLabelNode.setPositionY(0);\r\n        })\r\n        var sequence = cc.sequence(moveTo, callback);\r\n        self.commonTipsLabelNode.runAction(sequence);\r\n    },\r\n\r\n    //返回大厅\r\n    backToHall:function(){\r\n        HallResources.getInstance().playButtonEffect();\r\n        this.hallNode.active = true;\r\n        this.gameRoomNode.active = false;\r\n        this.rankListNode.node.active = true;\r\n        this.moreGameListNode.active = false;\r\n        // this.moneyNode.x = this.moneyNode.x + 240; \r\n    },\r\n\r\n    //匹配赛按钮点击回调\r\n    onClickMatchGame:function(){\r\n        cc.director.preloadScene(\"XueLiuGameScene\");\r\n        // TSCommon.dispatchEvent(HallResources.onShowFlyMessage,[\"暂未开放，敬请期待！\"]);\r\n        var nExt = \"300000000\";\r\n        var baseScore = 100;\r\n        var self = this;\r\n        var callback = function(success, data){\r\n            require('HallResources').getInstance().removeLoading();\r\n            if(success){\r\n                var jsonObject = JSON.parse(data)\r\n                if(parseInt(jsonObject.RetCode) == 1){\r\n                    var gameMatchLayer = self.gameMatchLayer.getComponent(\"GameMatchLayer\");\r\n                    gameMatchLayer.setWaitID(jsonObject.RWaitId)\r\n                    self.gameMatchLayer.active = true;\r\n                }\r\n                else{\r\n\r\n                }\r\n            }\r\n        }\r\n        require('HallWebRequest').getInstance().startMatchPlayer(nExt,baseScore, callback);\r\n    },\r\n\r\n    //缩进排行榜\r\n    onClickExtendedBtn:function(){\r\n        HallResources.getInstance().playButtonEffect();\r\n        var self = this;\r\n        this.shrinkRank.active = true;\r\n        this.extendedRank.active = false;\r\n        this.groupdRank.active = false;\r\n        if(WeixinManager.getInstance().userInfo)\r\n        {\r\n            var myOpenId = WeixinManager.getInstance().userInfo.openid;\r\n            wx.postMessage({\r\n                message:'1',\r\n                ticket:self.shareTicket,\r\n                openid:myOpenId,\r\n            });\r\n        }\r\n    },\r\n\r\n    //打开完整排行榜\r\n    onClicShrinkBtn:function(){\r\n        HallResources.getInstance().playButtonEffect();\r\n        var self = this;\r\n        this.shrinkRank.active = false;\r\n        this.extendedRank.active = true;\r\n        this.groupdRank.active = false;\r\n        if(WeixinManager.getInstance().userInfo)\r\n        {\r\n            var myOpenId = WeixinManager.getInstance().userInfo.openid;\r\n            wx.postMessage({\r\n                message:'2',\r\n                ticket:self.shareTicket,\r\n                openid:myOpenId,\r\n            });\r\n        }\r\n    },\r\n\r\n    //点击打开群排行\r\n    onClickOpenGroupBtn:function(){\r\n        HallResources.getInstance().playButtonEffect();\r\n        var self = this;\r\n        // var HallResources = require(\"HallResources\");\r\n        if(self.isWeChatPlatform()){\r\n            wx.shareAppMessage({\r\n                title: \"一脚癞油，戳虾子，本群谁能与我一战！快查看你在群里的排行。\",\r\n                imageUrl: HallResources.groupShareImgUrl,\r\n                success(res){\r\n                    console.log(\"转发成功!!!\")\r\n                    if(res.shareTickets == null || res.shareTickets == undefined || res.shareTickets == \"\"){ //没有群信息，说明分享的是个人\r\n                        TSCommon.dispatchEvent(HallResources.onShowFlyMessage,[\"请分享到群聊\"]);\r\n                    }else{ //有群信息\r\n                        console.log(\"下面是群消息数据!!!\")\r\n                        console.log(res);\r\n                        if(res.shareTickets.length > 0){ \r\n                            self.shrinkRank.active = true;\r\n                            self.extendedRank.active = false;\r\n                            self.groupdRank.active = true;\r\n                            if(WeixinManager.getInstance().userInfo)\r\n                            {\r\n                                var myOpenId = WeixinManager.getInstance().userInfo.openid;\r\n                                wx.postMessage({\r\n                                    message:'3',\r\n                                    ticket:res.shareTickets[0],\r\n                                    openid:myOpenId,\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                fail(res){\r\n                    console.log(\"转发失败!!!\")\r\n                } \r\n            })\r\n        }\r\n\r\n    },\r\n\r\n    //\r\n    onClickCustomServiceBtn:function(){\r\n        var self = this;\r\n        HallResources.getInstance().playButtonEffect();\r\n        if(self.isWeChatPlatform()){\r\n            cc.loader.loadRes(\"texture/share/qun_rank_share\",function(err,data){\r\n                wx.openCustomerServiceConversation({\r\n                    showMessageCard: true ,\r\n                    sendMessageImg: data.url,\r\n                    success: function ( data ) {\r\n                        console . log ( \"success =\" , data )\r\n                    },\r\n                    fail: function ( data ) {\r\n                        console . log ( \"fail =\" , data )\r\n                    },\r\n                    complete: function ( data ) {\r\n                        console . log ( \"complete =\" , data )\r\n                    }\r\n                })\r\n            });\r\n        }\r\n    },\r\n    //子域画布获取和第一次赋值\r\n    _updateSubDomainCanvas(){\r\n\r\n        this.tex = new cc.Texture2D();\r\n        var openDataContext = wx.getOpenDataContext();\r\n        var sharedCanvas = openDataContext.canvas;\r\n        //这个是子域模糊的解决办法，同时间需要修改子域的引擎代码\r\n        if (sharedCanvas) {\r\n            sharedCanvas.width = cc.game.canvas.width * 2;\r\n            sharedCanvas.height = cc.game.canvas.height * 2;\r\n        }\r\n        this.tex.initWithElement(sharedCanvas);\r\n        this.tex.handleLoadedTexture();\r\n        this.rankChildrenNode.spriteFrame = new cc.SpriteFrame(this.tex);\r\n        var self = this;\r\n        if(WeixinManager.getInstance().userInfo)\r\n        {\r\n            var myOpenId = WeixinManager.getInstance().userInfo.openid;\r\n            if(require(\"HallUtils\").isIPhoneX())\r\n            {   \r\n                //为了适配iphoneX，增加了6\r\n                wx.postMessage({\r\n                    message:'6',\r\n                    ticket:self.shareTicket,\r\n                    openid:myOpenId,\r\n                });\r\n            }   \r\n            else{\r\n                wx.postMessage({\r\n                    message:'4',\r\n                    ticket:self.shareTicket,\r\n                    openid:myOpenId,\r\n                });\r\n            }\r\n        }\r\n    },\r\n    //格式化数字\r\n    formatGold:function(gold, remaindot){\r\n        if(Math.abs(gold) < 100000){\r\n            return gold;\r\n        }\r\n    \r\n        if(Math.abs(gold) >= 100000 && Math.abs(gold) < 100000000){\r\n            if(remaindot){\r\n                var leftNum = gold % 10000;\r\n                if(leftNum == 0){\r\n                    var retGold = Math.floor(gold / 10000) + \"万\";\r\n                    return retGold;\r\n                }\r\n                else{\r\n                    gold = gold / 10000\r\n                    var retGold = Math.floor(gold*10)/10 + \"万\";\r\n                    return retGold;\r\n                }\r\n            }\r\n            else{\r\n                gold = gold / 10000\r\n                var retGold = Math.floor(gold*10)/10 + \"万\";\r\n                return retGold;\r\n            }\r\n        }\r\n        else if(Math.abs(gold) >= 100000000 && Math.abs(gold) <= 2000000000){\r\n            if(remaindot){\r\n                var leftNum = gold % 100000000;\r\n                if(leftNum == 0){\r\n                    var retGold = Math.floor(gold / 100000000) + \"亿\";\r\n                    return retGold;\r\n                }\r\n                else{\r\n                    gold = gold / 100000000\r\n                    var retGold = Math.floor(gold*10)/10 + \"万\";\r\n                    return retGold;\r\n                }\r\n            }\r\n            else{\r\n                gold = gold / 100000000\r\n                var retGold = Math.floor(gold*10)/10 + \"万\";\r\n                return retGold;\r\n            }\r\n        }\r\n    \r\n        if(Math.abs(gold) <= 100000000000){\r\n            var retGold = Math.floor(gold / 100000000) + \"亿\";\r\n        }\r\n    \r\n        if(remaindot){\r\n            return \"无限\";\r\n        }\r\n    },\r\n\r\n    //比较版本号\r\n    compareVersion: function (v1, v2) {//比较版本\r\n        v1 = v1.split('.');\r\n        v2 = v2.split('.');\r\n        var len = Math.max(v1.length, v2.length);\r\n        while (v1.length < len) {\r\n            v1.push('0');\r\n        }\r\n        while (v2.length < len) {\r\n            v2.push('0');\r\n        }\r\n        for (var i = 0; i < len; i++) {\r\n            var num1 = parseInt(v1[i]);\r\n            var num2 = parseInt(v2[i]);\r\n            if (num1 > num2) {\r\n                return 1;\r\n            } else if (num1 < num2) {\r\n                return -1;\r\n            }\r\n        }\r\n        return 0;\r\n    },\r\n\r\n    //判断微信小游戏登录\r\n    isWeChatPlatform:function()\r\n    {\r\n        var ret = false;\r\n        if(cc.sys.browserType == \"mqqbrowser\" || \"wechatgame\" == cc.sys.browserType){\r\n            ret = true;\r\n        }\r\n        return ret;\r\n    },\r\n\r\n    //格式化时间,只能格式化1994-10-12这种格式\r\n    timeFindMonthAndDay:function(str){\r\n        var day = \"\";\r\n        var month = \"\";\r\n        var firstPos = str.indexOf(\"-\",0);\r\n        var nextPos = str.indexOf(\"-\",firstPos+1);\r\n        month = parseInt(str.slice(firstPos+1,nextPos));\r\n        day = parseInt(str.substr(nextPos+1,2));\r\n        return month+\".\"+day;\r\n    },\r\n\r\n\r\n\r\n};\r\n\r\n\r\ncc.Class(HallPlatformInfo);\r\n"]}