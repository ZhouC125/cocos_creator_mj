{"version":3,"sources":["HallQualifying.js"],"names":["HallResources","require","HallQualifying","cc","Class","extends","Component","properties","star1","default","type","Sprite","star2","star3","star4","star5","cupIcon","rankLabel","Label","receiveBtn","Node","onLoad","clickReceiveBtn","getInstance","playButtonEffect","clickQuestionBtn","node","parent","getComponent","showSeasonLayer","changeRank","rankScore","self","data","getRankAndStarByScore","star","active","string","rankName","loader","loadRes","cup","SpriteFrame","err","spriteFrame","module","exports"],"mappings":";;;;;;AAAA;;AACA,IAAIA,gBAAgBC,QAAQ,eAAR,CAApB;AACA,IAAIC,iBAAiBC,GAAGC,KAAH,CAAS;AAC1BC,aAASF,GAAGG,SADc;;AAG1BC,gBAAY;AACRC,eAAO;AACHC,qBAAS,IADN;AAEHC,kBAAMP,GAAGQ;AAFN,SADC;AAKRC,eAAO;AACHH,qBAAS,IADN;AAEHC,kBAAMP,GAAGQ;AAFN,SALC;AASRE,eAAO;AACHJ,qBAAS,IADN;AAEHC,kBAAMP,GAAGQ;AAFN,SATC;AAaRG,eAAO;AACHL,qBAAS,IADN;AAEHC,kBAAMP,GAAGQ;AAFN,SAbC;AAiBRI,eAAO;AACHN,qBAAS,IADN;AAEHC,kBAAMP,GAAGQ;AAFN,SAjBC;AAqBRK,iBAAS;AACLP,qBAAS,IADJ;AAELC,kBAAMP,GAAGQ;AAFJ,SArBD;AAyBRM,mBAAW;AACPR,qBAAS,IADF;AAEPC,kBAAMP,GAAGe;AAFF,SAzBH;AA6BRC,oBAAY;AACRV,qBAAS,IADD;AAERC,kBAAMP,GAAGiB;AAFD;AA7BJ,KAHc;;AAsC1B;;AAEAC,YAAQ,kBAAY,CACnB,CAzCyB;;AA2C1BC,mBA3C0B,6BA2CT;AACbtB,sBAAcuB,WAAd,GAA4BC,gBAA5B;AACH,KA7CyB;;;AAgD1BC,sBAAkB,4BAAY;;AAE1B,aAAKC,IAAL,CAAUC,MAAV,CAAiBA,MAAjB,CAAwBC,YAAxB,CAAqC,kBAArC,EAAyDC,eAAzD;AACH,KAnDyB;;AAqD1BC,gBAAW,oBAASC,SAAT,EAAmB;AAC1B,YAAIC,OAAO,IAAX;AACA,YAAIC,OAAOjC,cAAcuB,WAAd,GAA4BW,qBAA5B,CAAkDH,SAAlD,CAAX;;AAEA,YAAIE,KAAKE,IAAL,GAAY,CAAhB,EAAkB;AAAC,iBAAKpB,KAAL,CAAWW,IAAX,CAAgBU,MAAhB,GAAyB,IAAzB;AAA+B;AAClD,YAAIH,KAAKE,IAAL,GAAY,CAAhB,EAAkB;AAAC,iBAAKrB,KAAL,CAAWY,IAAX,CAAgBU,MAAhB,GAAyB,IAAzB;AAA+B;AAClD,YAAIH,KAAKE,IAAL,GAAY,CAAhB,EAAkB;AAAC,iBAAKtB,KAAL,CAAWa,IAAX,CAAgBU,MAAhB,GAAyB,IAAzB;AAA+B;AAClD,YAAIH,KAAKE,IAAL,GAAY,CAAhB,EAAkB;AAAC,iBAAKvB,KAAL,CAAWc,IAAX,CAAgBU,MAAhB,GAAyB,IAAzB;AAA+B;AAClD,YAAIH,KAAKE,IAAL,GAAY,CAAhB,EAAkB;AAAC,iBAAK3B,KAAL,CAAWkB,IAAX,CAAgBU,MAAhB,GAAyB,IAAzB;AAA+B;AAClD,aAAKnB,SAAL,CAAeoB,MAAf,GAAwBJ,KAAKK,QAA7B;AACAnC,WAAGoC,MAAH,CAAUC,OAAV,CAAkB,sCAAoCP,KAAKQ,GAA3D,EAA+DtC,GAAGuC,WAAlE,EAA8E,UAASC,GAAT,EAAaC,WAAb,EAAyB;AACnG,gBAAG,CAACD,GAAJ,EACA;AACIX,qBAAKhB,OAAL,CAAa4B,WAAb,GAA2BA,WAA3B;AACH;AACJ,SALD;AAMH;;AAED;AAvE0B,CAAT,CAArB;;AA0EAC,OAAOC,OAAP,GAAiB5C,cAAjB","file":"HallQualifying.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\qualifying","sourcesContent":["import {TSCommon} from \"TSCommon\";\r\nvar HallResources = require(\"HallResources\");\r\nvar HallQualifying = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        star1: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        star2: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        star3: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        star4: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        star5: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        cupIcon: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        rankLabel: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        receiveBtn: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad: function () {\r\n    },\r\n\r\n    clickReceiveBtn(){\r\n        HallResources.getInstance().playButtonEffect();\r\n    },\r\n\r\n\r\n    clickQuestionBtn: function () {\r\n        \r\n        this.node.parent.parent.getComponent(\"HallPlatformInfo\").showSeasonLayer();\r\n    },\r\n\r\n    changeRank:function(rankScore){\r\n        var self = this;\r\n        var data = HallResources.getInstance().getRankAndStarByScore(rankScore);\r\n        \r\n        if (data.star > 4){this.star5.node.active = true;}\r\n        if (data.star > 3){this.star4.node.active = true;}\r\n        if (data.star > 2){this.star3.node.active = true;}\r\n        if (data.star > 1){this.star2.node.active = true;}\r\n        if (data.star > 0){this.star1.node.active = true;}\r\n        this.rankLabel.string = data.rankName;\r\n        cc.loader.loadRes(\"texture/hallRes/qualifyingCup/cup\"+data.cup,cc.SpriteFrame,function(err,spriteFrame){\r\n            if(!err)\r\n            {   \r\n                self.cupIcon.spriteFrame = spriteFrame;\r\n            }\r\n        });\r\n    },\r\n    \r\n    // update (dt) {},\r\n});\r\n\r\nmodule.exports = HallQualifying;"]}