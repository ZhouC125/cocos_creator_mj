{"version":3,"sources":["dailyGetButtonItem.js"],"names":["dailyGetButtonItem","cc","Class","extends","Component","properties","btnBG","default","type","Button","dayIcon","Sprite","dayCount","Label","coinIcon","onLoad","node","on","callback","initUI","effectNode","getChildByName","rotate","rotateBy","repeatForever","runAction","self","callbackFunc","initData","data","string","amount","loader","loadRes","days","SpriteFrame","err","spriteFrame","icon","module","exports"],"mappings":";;;;;;AACA,IAAIA,qBAAqBC,GAAGC,KAAH,CAAS;AAC9BC,aAASF,GAAGG,SADkB;;AAG9BC,gBAAY;AACRC,eAAM;AACFC,qBAAQ,IADN;AAEFC,kBAAKP,GAAGQ;AAFN,SADE;AAKRC,iBAAS;AACLH,qBAAS,IADJ;AAELC,kBAAMP,GAAGU;AAFJ,SALD;AASRC,kBAAU;AACNL,qBAAS,IADH;AAENC,kBAAMP,GAAGY;AAFH,SATF;AAaRC,kBAAU;AACNP,qBAAS,IADH;AAENC,kBAAMP,GAAGU;AAFH;AAbF,KAHkB;;AAsB9B;;AAEAI,YAAQ,kBAAY;AAChB,aAAKT,KAAL,CAAWU,IAAX,CAAgBC,EAAhB,CAAmB,OAAnB,EAA4B,KAAKC,QAAjC,EAA2C,IAA3C;;AAEA,aAAKC,MAAL;AACH,KA5B6B;;AA+B9BA,YAAO,kBAAU;AACb,YAAIC,aAAa,KAAKJ,IAAL,CAAUK,cAAV,CAAyB,sBAAzB,EAAiDA,cAAjD,CAAgE,gBAAhE,CAAjB;AACA,YAAIC,SAASrB,GAAGsB,QAAH,CAAY,CAAZ,EAAe,GAAf,CAAb;AACA,YAAIC,gBAAgBvB,GAAGuB,aAAH,CAAiBF,MAAjB,CAApB;AACAF,mBAAWK,SAAX,CAAqBD,aAArB;AACH,KApC6B;;AAsC9BN,cAAU,oBAAY;AAClB,YAAIQ,OAAO,IAAX;AACAA,aAAKC,YAAL;AACH,KAzC6B;;AA2C9BC,cAAS,kBAASC,IAAT,EAAcX,QAAd,EAAuB;AAC5B,YAAIQ,OAAO,IAAX;AACAA,aAAKC,YAAL,GAAoBT,QAApB;AACA,aAAKN,QAAL,CAAckB,MAAd,GAAuBD,KAAKE,MAA5B;AACA9B,WAAG+B,MAAH,CAAUC,OAAV,CAAkB,wCAAsCJ,KAAKK,IAA7D,EAAkEjC,GAAGkC,WAArE,EAAiF,UAASC,GAAT,EAAaC,WAAb,EAAyB;AACtG,gBAAG,CAACD,GAAJ,EACA;AACIV,qBAAKhB,OAAL,CAAa2B,WAAb,GAA2BA,WAA3B;AACH;AACJ,SALD;AAMApC,WAAG+B,MAAH,CAAUC,OAAV,CAAkB,oCAAkCJ,KAAKS,IAAzD,EAA8DrC,GAAGkC,WAAjE,EAA6E,UAASC,GAAT,EAAaC,WAAb,EAAyB;AAClG,gBAAG,CAACD,GAAJ,EACA;AACIV,qBAAKZ,QAAL,CAAcuB,WAAd,GAA4BA,WAA5B;AACH;AACJ,SALD;AAMH;AACD;AA5D8B,CAAT,CAAzB;;AA+DAE,OAAOC,OAAP,GAAiBxC,kBAAjB","file":"dailyGetButtonItem.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\activity\\dailyLogin","sourcesContent":["\r\nvar dailyGetButtonItem = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        btnBG:{\r\n            default:null,\r\n            type:cc.Button,\r\n        },\r\n        dayIcon: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        dayCount: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        coinIcon: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad: function () {\r\n        this.btnBG.node.on('click', this.callback, this);\r\n\r\n        this.initUI();\r\n    },\r\n\r\n\r\n    initUI:function(){\r\n        var effectNode = this.node.getChildByName(\"get_daily_reward_btn\").getChildByName(\"same_effect_sp\");\r\n        var rotate = cc.rotateBy(4, 360);\r\n        var repeatForever = cc.repeatForever(rotate);\r\n        effectNode.runAction(repeatForever);\r\n    },\r\n\r\n    callback: function () {\r\n        var self = this;\r\n        self.callbackFunc();\r\n    },\r\n\r\n    initData:function(data,callback){\r\n        var self = this;\r\n        self.callbackFunc = callback;\r\n        this.dayCount.string = data.amount;\r\n        cc.loader.loadRes(\"texture/activityRes/dailyLogin/days\"+data.days,cc.SpriteFrame,function(err,spriteFrame){\r\n            if(!err)\r\n            {   \r\n                self.dayIcon.spriteFrame = spriteFrame;\r\n            }\r\n        });\r\n        cc.loader.loadRes(\"texture/activityRes/dailyLogin/\"+data.icon,cc.SpriteFrame,function(err,spriteFrame){\r\n            if(!err)\r\n            {   \r\n                self.coinIcon.spriteFrame = spriteFrame;\r\n            }\r\n        });\r\n    },\r\n    // update (dt) {},\r\n});\r\n\r\nmodule.exports = dailyGetButtonItem;"]}