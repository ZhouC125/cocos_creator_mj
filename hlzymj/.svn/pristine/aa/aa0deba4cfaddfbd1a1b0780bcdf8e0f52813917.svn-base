{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\rank/assets\\scripts\\hall\\rank\\RankLayer.js"],"names":["RankExtendedListLayer","cc","Class","extends","Component","properties","bg","default","type","Node","onLoad","node","on","EventType","TOUCH_START","onTouch","event","poisition","touch","getLocation","locationInNode","convertToNodeSpace","s","getContentSize","rect","width","height","rectContainsPoint","active","parent","getComponent","onClickExtendedBtn","initData","data","myOpenId","module","exports"],"mappings":";;;;;;AACA,IAAIA,wBAAwBC,GAAGC,KAAH,CAAS;AACjCC,aAASF,GAAGG,SADqB;;AAGjCC,gBAAY;AACRC,YAAG;AACCC,qBAAS,IADV;AAECC,kBAAMP,GAAGQ;AAFV;;AADK,KAHqB;;AAWjC;;AAEAC,YAAQ,kBAAY;AAChB,aAAKC,IAAL,CAAUC,EAAV,CAAaX,GAAGQ,IAAH,CAAQI,SAAR,CAAkBC,WAA/B,EAA4C,KAAKC,OAAjD,EAA0D,IAA1D;AACH,KAfgC;;AAiBjCA,aAAS,iBAAUC,KAAV,EAAiB;AACtB,YAAIC,YAAYD,MAAME,KAAN,CAAYC,WAAZ,EAAhB;AACA,YAAIC,iBAAiB,KAAKd,EAAL,CAAQe,kBAAR,CAA2BJ,SAA3B,CAArB;AACA,YAAIK,IAAI,KAAKhB,EAAL,CAAQiB,cAAR,EAAR;AACA,YAAIC,OAAOvB,GAAGuB,IAAH,CAAQ,CAAR,EAAW,CAAX,EAAcF,EAAEG,KAAhB,EAAuBH,EAAEI,MAAzB,CAAX;AACA,YAAIzB,GAAG0B,iBAAH,CAAqBH,IAArB,EAA2BJ,cAA3B,CAAJ,EAAgD;AAC5C;AACH,SAFD,MAGK;AACD,iBAAKT,IAAL,CAAUiB,MAAV,GAAmB,KAAnB;AACA,iBAAKjB,IAAL,CAAUkB,MAAV,CAAiBA,MAAjB,CAAwBC,YAAxB,CAAqC,kBAArC,EAAyDC,kBAAzD;AACH;AACJ,KA7BgC;;AA+BjCC,cAAS,kBAASC,IAAT,EAAcC,QAAd,EACT;AACI;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEH;;AA7DgC,CAAT,CAA5B;;AAiEAC,OAAOC,OAAP,GAAiBpC,qBAAjB","file":"RankLayer.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\rank","sourcesContent":["\r\nvar RankExtendedListLayer = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        bg:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n       \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad: function () {\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouch, this);\r\n    },\r\n\r\n    onTouch: function (event) {\r\n        var poisition = event.touch.getLocation();\r\n        var locationInNode = this.bg.convertToNodeSpace(poisition);\r\n        var s = this.bg.getContentSize();\r\n        var rect = cc.rect(0, 0, s.width, s.height);\r\n        if (cc.rectContainsPoint(rect, locationInNode)) {\r\n            // this.node.active = true;\r\n        }\r\n        else {\r\n            this.node.active = false;\r\n            this.node.parent.parent.getComponent(\"HallPlatformInfo\").onClickExtendedBtn();\r\n        }\r\n    },\r\n\r\n    initData:function(data,myOpenId)\r\n    {   \r\n        // var self = this;\r\n        // this.content = this.rankList.getComponent(cc.ScrollView).content;\r\n        // this.content.removeAllChildren();\r\n\r\n        // var listData = data;\r\n        // for(var i=0; i<listData.length; i++){\r\n        //     listData[i].rank = i+1;\r\n        //     var item = cc.instantiate(this.itemPrefab);\r\n        //     item.parent = this.content;\r\n        //     item.getComponent(\"RankExtendedListItem\").onInit(listData[i]);\r\n        //     //.初始化位置\r\n        //     var x = 0;\r\n        //     var y = -70-i*93; \r\n        //     item.setPosition(x,y);\r\n        //     if (myOpenId == listData[i].openid)\r\n        //     {\r\n\r\n        //         this.myCount.string = \"局数：\"+listData[i].playScore;\r\n        //         this.myName.string = listData[i].nickname;\r\n        //         var imgurl=listData[i].avatarUrl+\"?aaa=aa.jpg\";\r\n        //         this.myRank.string = listData[i].rank;\r\n        //         cc.loader.load(imgurl, function(err, texture){\r\n        //             self.myIcon.spriteFrame = new cc.SpriteFrame(texture);\r\n        //             self.myIcon.node.setScale(0.53);\r\n        //         });\r\n        //     }\r\n        // }\r\n\r\n    },\r\n\r\n});\r\n\r\nmodule.exports = RankExtendedListLayer;"]}