{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\game\\help/assets\\scripts\\hall\\game\\help\\helpLayer.js"],"names":["cc","Class","extends","Component","properties","game_toggle1","default","type","Toggle","game_toggle2","game_help_scrollView","ScrollView","game_list_scrollView","helpAtlas","SpriteAtlas","onLoad","self","loader","loadRes","SpriteFrame","err","spriteFrame","m_yjlyRuleFrame","m_cxzRule","windowSize","view","getVisibleSize","node","getChildByName","setContentSize","onEnable","initUI","DeskScene","parent","getComponent","isCXZ","IsCXZ","iconFrameName","listFrameName","gameListScrollview","listContent","content","listItem","children","getSpriteFrame","Sprite","scrollview","item","rect","getRect","size","width","height","scrollToTop","onGameIntroClicked","event","isChecked","onGameRuleClicked","onCloseClicked","active"],"mappings":"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","file":"helpLayer.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\game\\help","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        game_toggle1:{\r\n            default: null,\r\n            type: cc.Toggle,\r\n        },\r\n\r\n        game_toggle2:{\r\n            default: null,\r\n            type: cc.Toggle,\r\n        },\r\n\r\n        game_help_scrollView: {\r\n            default: null,\r\n            type: cc.ScrollView,\r\n        },\r\n\r\n        game_list_scrollView:{\r\n            default: null,\r\n            type: cc.ScrollView,\r\n        },\r\n\r\n        helpAtlas: {\r\n            default: null,\r\n            type: cc.SpriteAtlas,\r\n        }\r\n    },\r\n\r\n    onLoad: function () {\r\n        var self = this;\r\n        cc.loader.loadRes(\"texture/game/help/yjly_rule1\", cc.SpriteFrame, function (err, spriteFrame) {\r\n            if(!err){\r\n                self.m_yjlyRuleFrame = spriteFrame;\r\n            }\r\n        })\r\n\r\n        cc.loader.loadRes(\"texture/game/help/cxz_rule1\", cc.SpriteFrame, function (err, spriteFrame) {\r\n            if(!err){\r\n                self.m_cxzRule = spriteFrame\r\n            }\r\n        })\r\n\r\n        var windowSize = cc.view.getVisibleSize();\r\n        this.node.getChildByName(\"shadow_bg\").setContentSize(windowSize);\r\n    },\r\n\r\n    onEnable:function(){\r\n        this.initUI();\r\n    },\r\n\r\n    initUI:function(){\r\n        var DeskScene = this.node.parent.getComponent(\"DeskScene\");\r\n\r\n        var isCXZ = false;\r\n        if(DeskScene && DeskScene.IsCXZ()){\r\n            isCXZ = true;\r\n        }\r\n\r\n        var iconFrameName;\r\n        var listFrameName;\r\n\r\n        if(isCXZ){\r\n            iconFrameName = \"cxz_icon_press\";\r\n            listFrameName = \"cxz_double\"\r\n        }\r\n        else{\r\n            iconFrameName = \"yjly_icon_press\";\r\n            listFrameName = \"yjly_double\"\r\n        }\r\n        \r\n\r\n\r\n        var gameListScrollview = this.game_list_scrollView.node.getComponent(cc.ScrollView)\r\n        var listContent = gameListScrollview.content;\r\n        var listItem = listContent.children[0];\r\n        \r\n        var spriteFrame = this.helpAtlas.getSpriteFrame(iconFrameName);\r\n        if(spriteFrame){\r\n            listItem.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n        }\r\n\r\n        var scrollview = this.game_help_scrollView.node.getComponent(cc.ScrollView)\r\n        var content = scrollview.content;\r\n        var item = content.children[0];\r\n\r\n        var spriteFrame = this.helpAtlas.getSpriteFrame(listFrameName);\r\n        if(spriteFrame){\r\n            item.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n        }\r\n        \r\n        var rect = spriteFrame.getRect();\r\n        content.setContentSize(cc.size(rect.width, rect.height + 60));\r\n        scrollview.scrollToTop(0);\r\n    },\r\n\r\n    onGameIntroClicked: function (event) {\r\n\r\n        this.game_toggle1.getComponent(cc.Toggle).isChecked = true;\r\n        this.game_toggle2.getComponent(cc.Toggle).isChecked = false;\r\n\r\n        var scrollview = this.game_help_scrollView.node.getComponent(cc.ScrollView)\r\n        var content = scrollview.content;\r\n        var item = content.children[0];\r\n\r\n        var DeskScene = this.node.parent.getComponent(\"DeskScene\");\r\n        var listFrameName;\r\n        if(DeskScene && DeskScene.IsCXZ()){\r\n            listFrameName = \"cxz_double\";\r\n        }\r\n        else{\r\n            listFrameName = \"yjly_double\";\r\n        }\r\n\r\n        var spriteFrame = this.helpAtlas.getSpriteFrame(listFrameName);\r\n        item.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n\r\n        var rect = spriteFrame.getRect();\r\n\r\n        content.setContentSize(cc.size(rect.width, rect.height + 100));\r\n\r\n        scrollview.scrollToTop(0);\r\n\r\n    },\r\n\r\n    onGameRuleClicked: function (event) {\r\n\r\n        this.game_toggle1.getComponent(cc.Toggle).isChecked = false;\r\n        this.game_toggle2.getComponent(cc.Toggle).isChecked = true;\r\n\r\n        var scrollview = this.game_help_scrollView.node.getComponent(cc.ScrollView)\r\n        var content = scrollview.content;\r\n        var item = content.children[0];\r\n\r\n        var DeskScene = this.node.parent.getComponent(\"DeskScene\");\r\n        var spriteFrame\r\n        if(DeskScene && DeskScene.IsCXZ()){\r\n            spriteFrame = this.m_cxzRule;\r\n        }\r\n        else{\r\n            spriteFrame = this.m_yjlyRuleFrame;\r\n        }\r\n\r\n        if(spriteFrame){\r\n            item.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n        }\r\n        \r\n        var rect = spriteFrame.getRect();\r\n\r\n        content.setContentSize(cc.size(rect.width, rect.height + 100));\r\n\r\n        scrollview.scrollToTop(0);\r\n    },\r\n\r\n    onCloseClicked: function () {\r\n        this.node.active = false;\r\n    },\r\n\r\n});\r\n"]}