{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\qualifying/assets\\scripts\\hall\\qualifying\\NowRankLevelItem.js"],"names":["NowRankLevelItem","cc","Class","extends","Component","properties","star1","default","type","Sprite","star2","star3","star4","star5","nextRankArrow","rankLevel","cupIcon","needScore","Label","onLoad","setArrowShow","bol","node","active","initData","data","myScoreData","divisionID","self","string","formatGold","minScore","maxScore","loader","loadRes","cup","SpriteFrame","err","spriteFrame","star","gold","remaindot","Math","abs","leftNum","retGold","floor","module","exports"],"mappings":"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","file":"NowRankLevelItem.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\qualifying","sourcesContent":["\r\nvar NowRankLevelItem = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        star1: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        star2: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        star3: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        star4: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        star5: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        nextRankArrow: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        rankLevel: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        cupIcon: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        needScore: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad: function () {\r\n    },\r\n\r\n    setArrowShow: function (bol) {\r\n        this.nextRankArrow.node.active = bol;\r\n    },\r\n\r\n    initData:function(data,myScoreData,divisionID){\r\n        var self = this;\r\n        this.needScore.string =  this.formatGold(myScoreData.minScore) + \"-\" + this.formatGold(myScoreData.maxScore) + \"分\";\r\n        cc.loader.loadRes(\"texture/hallRes/qualifyingCup/cup\"+myScoreData.cup,cc.SpriteFrame,function(err,spriteFrame){\r\n            if(!err)\r\n            {   \r\n                self.cupIcon.spriteFrame = spriteFrame;\r\n            }\r\n        });\r\n        if (myScoreData.star > 4){this.star5.node.active = true;}\r\n        if (myScoreData.star > 3){this.star4.node.active = true;}\r\n        if (myScoreData.star > 2){this.star3.node.active = true;}\r\n        if (myScoreData.star > 1){this.star2.node.active = true;}\r\n        if (myScoreData.star > 0){this.star1.node.active = true;}\r\n        cc.loader.loadRes(\"texture/hallRes/qualifyingCup/rank_level_\"+divisionID,cc.SpriteFrame,function(err,spriteFrame){\r\n            if(!err)\r\n            {   \r\n                self.rankLevel.spriteFrame = spriteFrame;\r\n            }\r\n        });\r\n        \r\n    },\r\n\r\n    //格式化数字\r\n    formatGold:function(gold, remaindot){\r\n        if(Math.abs(gold) < 100000){\r\n            return gold;\r\n        }\r\n    \r\n        if(Math.abs(gold) >= 100000 && Math.abs(gold) < 100000000){\r\n            if(remaindot){\r\n                var leftNum = gold % 10000;\r\n                if(leftNum == 0){\r\n                    var retGold = Math.floor(gold / 10000) + \"万\";\r\n                    return retGold;\r\n                }\r\n                else{\r\n                    gold = gold / 10000\r\n                    var retGold = Math.floor(gold*10)/10 + \"万\";\r\n                    return retGold;\r\n                }\r\n            }\r\n            else{\r\n                gold = gold / 10000\r\n                var retGold = Math.floor(gold*10)/10 + \"万\";\r\n                return retGold;\r\n            }\r\n        }\r\n        else if(Math.abs(gold) >= 100000000 && Math.abs(gold) <= 2000000000){\r\n            if(remaindot){\r\n                var leftNum = gold % 100000000;\r\n                if(leftNum == 0){\r\n                    var retGold = Math.floor(gold / 100000000) + \"亿\";\r\n                    return retGold;\r\n                }\r\n                else{\r\n                    gold = gold / 100000000\r\n                    var retGold = Math.floor(gold*10)/10 + \"万\";\r\n                    return retGold;\r\n                }\r\n            }\r\n            else{\r\n                gold = gold / 100000000\r\n                var retGold = Math.floor(gold*10)/10 + \"万\";\r\n                return retGold;\r\n            }\r\n        }\r\n    \r\n        if(Math.abs(gold) <= 100000000000){\r\n            var retGold = Math.floor(gold / 100000000) + \"亿\";\r\n        }\r\n    \r\n        if(remaindot){\r\n            return \"无限\";\r\n        }\r\n    },\r\n});\r\n\r\nmodule.exports = NowRankLevelItem;"]}