{"version":3,"sources":["GameButtonLayer.js"],"names":["GameCfg","require","sendCMD","cc","Class","extends","Component","properties","moreBtn","default","type","Button","chatBtn","autoHuBtn","startGameBtn","gameInfoToggle","Node","laiziInfo","settingLayer","chattingLayer","buttonAtlas","SpriteAtlas","onLoad","active","TSCommon","addEvent","sendChatEnd","onSendChatEnd","init","node","on","EventType","TOUCH_START","onTouch","m_autoHuPrePos","getPosition","setPosition","p","x","y","event","pos","touch","getLocation","convertPos","getChildByName","convertToNodeSpace","size","getContentSize","rect","width","height","rectContainsPoint","onDisable","removeEvent","onStartBtnClicked","sendCMD_PO_RESTART","m_onStartCallBack","HallResources","recordPlayerLogToServer","recordList","click_ready","onMoreBtnClicked","getComponent","show","onChatBtnClicked","onGameInfoBgClicked","Toggle","isChecked","parent","gameInfoLayer","onShowGameInfoClicked","onLaiziImgClicked","onCancelRobotClicked","m_onCancelRobotCallBack","sendCMD_PO_ROBOTPLAYCANCEL","onGuoBtnClicked","sendCMD_PO_PASS","m_onGuoCallBack","setAllOperateButtonIsVis","onChiBtnClicked","m_onChiCallback","onGangBtnClicked","m_onGangCallBack","onChaoTianBtnClicked","m_onChaotianCallBack","onPengBtnClicked","sendCMD_PO_PENG","onHuBtnClicked","sendCMD_PO_HU","onZiMoBtnClicked","autoHuBtnShow","moveTo","runAction","onAutoHuClicked","interactable","animationComponent","Animation","play","self","onPlayAnimationEnd","log","bIsVisible","operateNodes","i","childrenCount","children","setGuoBtnVisible","autoAdjustPos","setChiBtnVisible","setPengBtnVisible","setGangBtnVisible","setChaoTianBtnVisible","setHuBtnVisible","setZiMoBtnVisible","setStartBtnVisible","setStartClickBtnCallBack","callback","setGuoClickBtnCallBack","setChiClickBtnCallBack","setGangClickBtnCallBack","setChaoTianClickBtnCallBack","setCancelRobotBtnCallBack","onClickedDingQue","data","sendCMD_PO_DingQue","parseInt","frontNode","GuoBtn","front"],"mappings":"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","file":"GameButtonLayer.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\hall\\game\\desk","sourcesContent":["\r\nvar GameCfg = require(\"GameCfg\");\r\nimport { TSCommon } from \"../../TSCommon\";\r\nvar sendCMD = require(\"sendCMD\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n        moreBtn: {\r\n            default: null,\r\n            type: cc.Button,\r\n        },\r\n\r\n        chatBtn: {\r\n            default: null,\r\n            type: cc.Button,\r\n        },\r\n\r\n        autoHuBtn: {\r\n            default: null,\r\n            type: cc.Button,\r\n        },\r\n\r\n        startGameBtn: {\r\n            default: null,\r\n            type: cc.Button,\r\n        },\r\n\r\n        gameInfoToggle: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        laiziInfo: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        settingLayer: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        chattingLayer: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        buttonAtlas: {\r\n            default: null,\r\n            type: cc.SpriteAtlas,\r\n        }\r\n\r\n    },\r\n\r\n    onLoad: function () {\r\n\r\n        this.laiziInfo.active = false;\r\n\r\n        TSCommon.addEvent(GameCfg.sendChatEnd, this.onSendChatEnd, this);\r\n\r\n        this.init();\r\n\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouch, this);\r\n    },\r\n\r\n    init: function () {\r\n        this.m_autoHuPrePos = this.autoHuBtn.node.getPosition();\r\n\r\n        this.autoHuBtn.node.setPosition(cc.p(this.m_autoHuPrePos.x + 350, this.m_autoHuPrePos.y));\r\n    },\r\n\r\n\r\n    onTouch: function (event) {\r\n        var pos = event.touch.getLocation();\r\n        var convertPos = this.laiziInfo.getChildByName(\"info_bg\").convertToNodeSpace(pos);\r\n        var size = this.laiziInfo.getChildByName(\"info_bg\").getContentSize();\r\n        var rect = cc.rect(0, 0, size.width, size.height);\r\n\r\n        if (!cc.rectContainsPoint(rect, convertPos)) {\r\n            this.laiziInfo.active = false;\r\n        }\r\n    },\r\n\r\n    onDisable: function () {\r\n        TSCommon.removeEvent(GameCfg.sendChatEnd, this.onSendChatEnd, this);\r\n    },\r\n\r\n    //点击开始按钮\r\n    onStartBtnClicked: function () {\r\n        require(\"sendCMD\").sendCMD_PO_RESTART();\r\n\r\n        if (this.m_onStartCallBack) {\r\n            this.m_onStartCallBack();\r\n        }\r\n\r\n        //记录日志\r\n        var HallResources = require(\"HallResources\");\r\n        HallResources.recordPlayerLogToServer(HallResources.recordList.click_ready);\r\n    },\r\n\r\n    onMoreBtnClicked: function () {\r\n        this.settingLayer.getComponent(\"MoreSettingLayer\").show();\r\n    },\r\n\r\n    onChatBtnClicked: function () {\r\n        this.chattingLayer.getComponent(\"Chatting\").show();\r\n    },\r\n\r\n    onGameInfoBgClicked: function (event) {\r\n        this.gameInfoToggle.getComponent(cc.Toggle).isChecked = !this.gameInfoToggle.getComponent(cc.Toggle).isChecked;\r\n\r\n        var parent = this.gameInfoToggle.parent;\r\n\r\n        var gameInfoLayer = parent.getChildByName(\"base_info_bg\");\r\n\r\n        if (this.gameInfoToggle.getComponent(cc.Toggle).isChecked) {\r\n            this.gameInfoToggle.getChildByName(\"Background\").active = false;\r\n            gameInfoLayer.active = true;\r\n        }\r\n        else {\r\n            this.gameInfoToggle.getChildByName(\"Background\").active = true;\r\n            gameInfoLayer.active = false;\r\n        }\r\n    },\r\n\r\n\r\n    onShowGameInfoClicked: function (event) {\r\n\r\n        var parent = this.gameInfoToggle.parent;\r\n\r\n        var gameInfoLayer = parent.getChildByName(\"base_info_bg\");\r\n\r\n        if (this.gameInfoToggle.getComponent(cc.Toggle).isChecked) {\r\n            this.gameInfoToggle.getChildByName(\"Background\").active = false;\r\n            gameInfoLayer.active = true;\r\n        }\r\n        else {\r\n            this.gameInfoToggle.getChildByName(\"Background\").active = true;\r\n            gameInfoLayer.active = false;\r\n        }\r\n    },\r\n\r\n\r\n    //癞子牌点击的情况\r\n    onLaiziImgClicked: function () {\r\n        this.laiziInfo.active = true;\r\n    },\r\n\r\n    onCancelRobotClicked: function () {\r\n        if (this.m_onCancelRobotCallBack) {\r\n            this.m_onCancelRobotCallBack();\r\n        }\r\n        sendCMD.sendCMD_PO_ROBOTPLAYCANCEL()\r\n    },\r\n\r\n    //过按钮点击\r\n    onGuoBtnClicked: function (event) {\r\n        sendCMD.sendCMD_PO_PASS()\r\n        if (this.m_onGuoCallBack) {\r\n            this.m_onGuoCallBack()\r\n        }\r\n        this.setAllOperateButtonIsVis(false)\r\n    },\r\n\r\n    onChiBtnClicked: function (event) {\r\n\r\n        if (this.m_onChiCallback) {\r\n            this.m_onChiCallback();\r\n        }\r\n        this.setAllOperateButtonIsVis(false);\r\n    },\r\n\r\n    onGangBtnClicked: function (event) {\r\n\r\n        if (this.m_onGangCallBack) {\r\n            this.m_onGangCallBack();\r\n        }\r\n        this.setAllOperateButtonIsVis(false);\r\n    },\r\n\r\n    onChaoTianBtnClicked: function (event) {\r\n        if (this.m_onChaotianCallBack) {\r\n            this.m_onChaotianCallBack();\r\n        }\r\n        this.setAllOperateButtonIsVis(false);\r\n    },\r\n\r\n    onPengBtnClicked: function (event) {\r\n        sendCMD.sendCMD_PO_PENG()\r\n        this.setAllOperateButtonIsVis(false)\r\n    },\r\n\r\n    onHuBtnClicked: function (event) {\r\n        sendCMD.sendCMD_PO_HU()\r\n        this.setAllOperateButtonIsVis(false)\r\n    },\r\n\r\n    onZiMoBtnClicked: function (event) {\r\n        sendCMD.sendCMD_PO_HU()\r\n        this.setAllOperateButtonIsVis(false);\r\n    },\r\n\r\n    autoHuBtnShow: function () {\r\n        var moveTo = cc.moveTo(0.2, this.m_autoHuPrePos);\r\n        this.autoHuBtn.node.runAction(moveTo);\r\n    },\r\n\r\n    //点击自动胡牌\r\n    onAutoHuClicked: function () {\r\n\r\n    },\r\n\r\n    onSendChatEnd: function () {\r\n\r\n        this.chatBtn.interactable = false;\r\n        var animationComponent = this.chatBtn.getComponent(cc.Animation)\r\n        animationComponent.play(\"quickChatTimer\");\r\n\r\n        var self = this;\r\n        var onPlayAnimationEnd = function () {\r\n            self.chatBtn.interactable = true;\r\n            cc.log(\"end\");\r\n        };\r\n\r\n        animationComponent.on('finished', onPlayAnimationEnd, this);\r\n    },\r\n\r\n    //设定所有的操作按钮的可见性\r\n    setAllOperateButtonIsVis: function (bIsVisible) {\r\n\r\n        var operateNodes = this.node.getChildByName(\"operate_button_layer\");\r\n\r\n        for (var i = 0; i < operateNodes.childrenCount; i++) {\r\n\r\n            operateNodes.children[i].active = bIsVisible;\r\n        }\r\n\r\n    },\r\n\r\n    setGuoBtnVisible: function (bIsVisible) {\r\n\r\n        var operateNodes = this.node.getChildByName(\"operate_button_layer\");\r\n\r\n        operateNodes.getChildByName(\"operate_guo_btn\").active = bIsVisible;\r\n\r\n        this.autoAdjustPos();\r\n    },\r\n\r\n    setChiBtnVisible: function (bIsVisible) {\r\n\r\n        var operateNodes = this.node.getChildByName(\"operate_button_layer\");\r\n\r\n        operateNodes.getChildByName(\"operate_chi_btn\").active = bIsVisible;\r\n\r\n        this.autoAdjustPos();\r\n    },\r\n\r\n    setPengBtnVisible: function (bIsVisible) {\r\n\r\n        var operateNodes = this.node.getChildByName(\"operate_button_layer\");\r\n\r\n        operateNodes.getChildByName(\"operate_peng_btn\").active = bIsVisible;\r\n\r\n        this.autoAdjustPos();\r\n    },\r\n\r\n    setGangBtnVisible: function (bIsVisible) {\r\n\r\n        var operateNodes = this.node.getChildByName(\"operate_button_layer\");\r\n\r\n        operateNodes.getChildByName(\"operate_gang_btn\").active = bIsVisible;\r\n\r\n        this.autoAdjustPos();\r\n    },\r\n\r\n    setChaoTianBtnVisible: function (bIsVisible) {\r\n        var operateNodes = this.node.getChildByName(\"operate_button_layer\");\r\n\r\n        operateNodes.getChildByName(\"operate_chaotian_btn\").active = bIsVisible;\r\n\r\n        this.autoAdjustPos();\r\n    },\r\n\r\n    setHuBtnVisible: function (bIsVisible) {\r\n\r\n        var operateNodes = this.node.getChildByName(\"operate_button_layer\");\r\n\r\n        operateNodes.getChildByName(\"operate_hu_btn\").active = bIsVisible;\r\n\r\n        this.autoAdjustPos();\r\n    },\r\n\r\n    setZiMoBtnVisible: function (bIsVisible) {\r\n        var operateNodes = this.node.getChildByName(\"operate_button_layer\");\r\n\r\n        operateNodes.getChildByName(\"operate_zimo_btn\").active = bIsVisible;\r\n\r\n        this.autoAdjustPos();\r\n    },\r\n\r\n    setStartBtnVisible: function (bIsVisible) {\r\n\r\n        this.startGameBtn.node.active = bIsVisible;\r\n    },\r\n\r\n    setStartClickBtnCallBack: function (callback) {\r\n        this.m_onStartCallBack = callback;\r\n    },\r\n\r\n    setGuoClickBtnCallBack: function (callback) {\r\n\r\n        this.m_onGuoCallBack = callback;\r\n\r\n    },\r\n\r\n    setChiClickBtnCallBack: function (callback) {\r\n\r\n        this.m_onChiCallback = callback;\r\n    },\r\n\r\n    setGangClickBtnCallBack: function (callback) {\r\n\r\n        this.m_onGangCallBack = callback\r\n    },\r\n\r\n    setChaoTianClickBtnCallBack: function (callback) {\r\n        this.m_onChaotianCallBack = callback;\r\n    },\r\n\r\n    setCancelRobotBtnCallBack: function (callback) {\r\n\r\n        this.m_onCancelRobotCallBack = callback;\r\n    },\r\n\r\n    onClickedDingQue: function (event,data) {\r\n        sendCMD.sendCMD_PO_DingQue(parseInt(data));\r\n    },\r\n\r\n    //自动修正坐标\r\n    autoAdjustPos: function () {\r\n\r\n        //设定好过的坐标  \r\n        this.frontNode = this.frontNode || null;\r\n\r\n        var operateNodes = this.node.getChildByName(\"operate_button_layer\");\r\n\r\n        var GuoBtn = operateNodes.getChildByName(\"operate_guo_btn\");\r\n        GuoBtn.x = 390;\r\n        this.front = GuoBtn;\r\n\r\n        if (operateNodes.getChildByName(\"operate_peng_btn\").active == true) {\r\n\r\n            operateNodes.getChildByName(\"operate_peng_btn\").x = this.front.x - 180\r\n            this.front = operateNodes.getChildByName(\"operate_peng_btn\");\r\n\r\n        }\r\n\r\n        if (operateNodes.getChildByName(\"operate_chi_btn\").active == true) {\r\n\r\n            operateNodes.getChildByName(\"operate_chi_btn\").x = this.front.x - 180\r\n            this.front = operateNodes.getChildByName(\"operate_chi_btn\");\r\n\r\n        }\r\n\r\n        if (operateNodes.getChildByName(\"operate_gang_btn\").active == true) {\r\n\r\n            operateNodes.getChildByName(\"operate_gang_btn\").x = this.front.x - 180\r\n            this.front = operateNodes.getChildByName(\"operate_gang_btn\");\r\n\r\n        }\r\n\r\n        if (operateNodes.getChildByName(\"operate_chaotian_btn\").active == true) {\r\n            operateNodes.getChildByName(\"operate_chaotian_btn\").x = this.front.x - 180\r\n            this.front = operateNodes.getChildByName(\"operate_chaotian_btn\");\r\n        }\r\n\r\n        if (operateNodes.getChildByName(\"operate_hu_btn\").active == true) {\r\n\r\n            operateNodes.getChildByName(\"operate_hu_btn\").x = this.front.x - 180\r\n            this.front = operateNodes.getChildByName(\"operate_hu_btn\");\r\n        }\r\n\r\n        if (operateNodes.getChildByName(\"operate_zimo_btn\").active == true) {\r\n            operateNodes.getChildByName(\"operate_zimo_btn\").x = this.front.x - 180\r\n            this.front = operateNodes.getChildByName(\"operate_zimo_btn\");\r\n        }\r\n    },\r\n\r\n});\r\n"]}